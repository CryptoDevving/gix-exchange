{"version":3,"sources":["assets/gix-logo2.png","assets/poi-logo.png","helpers.js","store/selectors.js","components/Navbar.js","store/actions.js","store/interactions.js","components/Loader.js","components/Trades.js","components/OrderBook.js","components/MyTransactions.js","components/LightChart.config.js","components/PriceChart.js","components/Balance.js","components/NewOrder.js","components/Footer.js","components/Content.js","components/App.js","serviceWorker.js","store/reducers.js","store/configureStore.js","index.js"],"names":["module","exports","web3","require","ETHER_ADDRESS","tokens","n","utils","fromWei","ether","RED","addressIsEqual","address","account","toChecksumAddress","formatBalance","balance","precision","toString","Math","round","state","get","accountSelector","createSelector","a","web3Selector","w","tokenLoaded","exchangeLoaded","tl","contractLoadedSelector","el","exchangeSelector","e","tokenSelector","t","allOrdersLoaded","allOrders","loaded","cancelledOrdersLoaded","ao","cancelledOrders","filledOrdersLoaded","co","filledOrdersLoadedSelector","fol","filledOrders","filledOrdersSelector","orders","sort","b","timestamp","decorateFilledOrders","previousOrder","map","order","decorateOrder","decorateFilledOrder","tokenAmount","etherAmount","tokenGive","amountGive","amountGet","tokenPrice","formattedTimeStamp","moment","unix","format","tokenPriceClass","id","orderId","openOrders","all","filled","cancelled","reject","orderFilled","some","o","orderCancelled","orderBookLoaded","orderBookSelector","decorateOrderBookOrders","groupBy","buyOrders","sellOrders","decorateOrderBookOrder","orderType","orderTypeClass","orderTypeFillClass","type","orderFillAction","fill","myFilledOrdersLoadedSelector","myFilledOrdersSelector","filter","user","userFill","decorateMyFilledOrders","decorateMyFilledOrder","orderTypeSignClass","orderSignClass","sign","myOpenOrdersLoadedSelector","myOpenOrdersSelector","decorateMyOpenOrders","decorateMyOpenOrder","myOrderHistoryLoadedSelector","myOrderHistorySelector","allUserOrders","filledorders","decorateMyAllOrders","decorateMyAllOrder","orderStatus","priceChartLoadedSelector","priceChartSelector","secondLastOrder","lastOrder","slice","length","lastPrice","lastPriceChange","series","data","buildGraphData","startOf","Object","keys","time","group","open","close","prices","high","max","low","min","parseInt","orderCancellingSelector","status","orderFillingSelector","balancesLoadingSelector","loading","ethBalanceSelector","tokenBalanceSelector","exchangeEthBalanceSelector","exchangeTokenBalanceSelector","ethDepositAmountSelector","amount","ethWithdrawAmountSelector","tokenDepositAmountSelector","tokenWithdrawAmountSelector","buyOrderMakingSelector","making","sellOrderMakingSelector","buyOrderSelector","bo","sellOrderSelector","so","buyOrderAmountSelector","buyOrderPriceSelector","sellOrderAmountSelector","s","sellOrderPriceSelector","renderTooltip","props","Tooltip","Navbar","className","style","marginLeft","href","rel","src","gixLogo","height","color","marginRight","marginBottom","alt","this","width","borderRadius","overflow","onClick","window","Identicon","size","background","foreground","configMetaMask","target","OverlayTrigger","placement","delay","show","hide","overlay","Component","connect","web3AccountLoaded","ethBalanceLoaded","tokenBalanceLoaded","exchangeEthBalanceLoaded","exchangeTokenBalanceLoaded","ethDepositAmountChanged","ethWithdrawAmountChanged","tokenDepositAmountChanged","tokenWithdrawAmountChanged","buyOrderAmountChanged","buyOrderPriceChanged","price","sellOrderAmountChanged","sellOrderPriceChanged","loadWeb3","dispatch","Web3","ethereum","connection","loadAccount","loadToken","networkId","networkId_decimal","hexToNumberString","eth","Contract","PoiToken","abi","networks","token","contract","console","log","loadExchange","Exchange","exchange","loadAllOrders","getPastEvents","fromBlock","toBlock","cancelStream","event","returnValues","tradeStream","orderStream","cancelOrder","methods","send","from","on","hash","catch","error","fillOrder","loadBalances","getBalance","ethBalance","balanceOf","call","tokenBalance","exchangeEthBalance","options","exchangeTokenBalance","depositEth","ethDepositAmount","ethAmount","toWei","depositEther","value","alert","withdrawEth","ethWithdrawAmount","withdrawEther","depositToken","tokenDepositAmount","approve","withdrawToken","tokenWithdrawAmount","makeBuyOrder","tokenGet","ordering","makeOrder","makeSellOrder","subscribeToEvents","events","Cancel","cancelledOrder","Trade","filledOrder","Deposit","Withdraw","Order","role","aria-hidden","Trades","justifyContent","Loader","fontSize","key","wait","seconds","milliseconds","Promise","resolve","setTimeout","OrderBook","renderTableAnimation","selectedRow","setState","renderOrder","textAlign","borderRightStyle","borderRightWidth","renderOrder2","borderLeftStyle","borderLeftWidth","showOrderBook","orderBook","showOrderBook2","orderFilling","MyTransactions","myFilledOrdersLoaded","myOpenOrdersLoaded","orderCancelling","Tabs","justify","defaultActiveKey","Tab","tabClassName","eventKey","title","myOpenOrders","verticalAlign","name","backgroundColor","onMouseOver","borderColor","onMouseLeave","showMyOpenOrders","myallOrders","myOrderHistory","myfilledOrders","myFilledOrders","myOrderHistoryLoaded","lightChartOptions","layout","textColor","grid","vertLines","horzLines","priceScale","position","autoScale","alignLabels","borderVisible","timeScale","rightOffset","lockVisibleTimeRangeOnResize","rightBarStaysOnScroll","visible","timeVisible","secondsVisible","priceSymbol","priceChange","PriceChart","showPrice","priceChart","poiLogo","showLightChart","legend","candlestickSeries","autoWidth","autoHeight","darkTheme","applyOptions","priceFormat","minMove","alwaysClean","priceChartLoaded","ref","myRef","request","method","accounts","code","Balance","showForm","onSubmit","preventDefault","placeholder","onChange","isNaN","Number","required","loadBlockchainData","interval","setInterval","clearInterval","balancesLoading","NewOrder","buyOrder","sellOrder","buyOrderPrice","buyOrderAmount","sellOrderPrice","sellOrderAmount","buyAmountValue","buyPriceValue","maxLength","sellAmountValue","sellPriceValue","buyOrderMaking","sellOrderMaking","App","fab","icon","Date","getFullYear","textDecoration","Content","componentDidMount","sendAsync","params","jsonrpc","getTime","result","chainId","location","reload","bind","contractLoaded","Boolean","hostname","match","preloadedState","rootReducer","combineReducers","action","findIndex","loggerMiddleware","createLogger","middleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","ReactDOM","render","store","createStore","applyMiddleware","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3e10b817.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gix-logo2.bb3c3fdc.png\";","module.exports = __webpack_public_path__ + \"static/media/poi-logo.4edcc8c6.png\";","const web3 = require('web3')\n\nexport const ETHER_ADDRESS = '0x0000000000000000000000000000000000000000'\n\nexport const tokens = n => web3.utils.fromWei(n, 'ether')\n\nexport const ether = n => tokens(n)\n\nexport const RED = 'danger'\nexport const GREEN = 'success'\n\nexport const addressIsEqual = (address, account) =>{\n\tif (account === ''){\n\t\treturn false\n\t}\n\treturn web3.utils.toChecksumAddress(address) === web3.utils.toChecksumAddress(account)\n}\nexport const formatBalance = balance =>{\n\tconst precision = 10 ** 5\n\tbalance = ether(balance.toString())\n\tbalance = Math.round(balance * precision) / precision //2 decimal places\n\treturn balance\n}","import {get, reject, groupBy, filter} from 'lodash'\nimport moment from 'moment'\nimport {createSelector} from 'reselect' //from redux\n\nimport {\n\tETHER_ADDRESS, \n\ttokens, ether,\n\tRED, GREEN,\n\taddressIsEqual,\n\tformatBalance\n} from '../helpers'\n\n\n// const account = state => state.web3.account\n// export const accountSelector = createSelector(account, account => account)\n// export const accountSelector = createSelector(account, (account) => {account})\nconst account = state => get(state, 'web3.account', '')\nexport const accountSelector = createSelector(account, a => {return a})\n\nconst web3 = state => get(state, 'web3.connection')\nexport const web3Selector = createSelector(web3, w => w)\n\n/// Check if necessary contracts are loaded\nconst tokenLoaded = state => get(state, 'token.loaded', false)  //default value false\nexport const tokenLoadedSelector = createSelector(tokenLoaded, tl => tl)\n\nconst exchangeLoaded = state => get(state, 'exchange.loaded', false)\nexport const exchangeLoadedSelector = createSelector(exchangeLoaded, el => el)\n\n// const contractLoaded = state => tokenLoaded(state) && exchangeLoaded(state)\n// export const contractLoadedSelector = createSelector(contractLoaded, cl => cl)\nexport const contractLoadedSelector = createSelector(\n\ttokenLoaded,\n\texchangeLoaded,\n\t(tl, el) => (tl && el)\n)\n/////////\nconst exchange = state => get(state, 'exchange.contract')\nexport const exchangeSelector = createSelector(exchange, e => e)\n\nconst token = state => get(state, 'token.contract')\nexport const tokenSelector = createSelector(token, t => t)\n// \nconst allOrdersLoaded = state => get(state, 'exchange.allOrders.loaded', false)\nexport const allOrdersLoadedSelector = createSelector(allOrdersLoaded, loaded => loaded)\n\nconst allOrders = state => get(state, 'exchange.allOrders.data', [])\nexport const allOrdersSelector = createSelector(allOrders, ao => ao)\n// \nconst cancelledOrdersLoaded = state => get(state, 'exchange.cancelledOrders.loaded', false)\nexport const cancelledOrdersLoadedSelector = createSelector(cancelledOrdersLoaded, loaded => loaded)\n\nconst cancelledOrders = state => get(state, 'exchange.cancelledOrders.data', [])\nexport const cancelledOrdersSelector = createSelector(cancelledOrders, co => co)\n// \nconst filledOrdersLoaded = state => get(state, 'exchange.filledOrders.loaded', false)\nexport const filledOrdersLoadedSelector = createSelector(filledOrdersLoaded, fol => fol)\n\nconst filledOrders = state => get(state, 'exchange.filledOrders.data', [])\nexport const filledOrdersSelector = createSelector(\n\tfilledOrders,\n\torders => {\n\t\t// sort order from earliest to latest to compare prices\n\t\torders = orders.sort((a,b) => a.timestamp - b.timestamp)\n\n\t\torders = decorateFilledOrders(orders)\n\n\t\t// sorting orders from latest to earliest trades for user display\n\t\torders = orders.sort((a,b) => b.timestamp - a.timestamp)\n\t\treturn orders\n\t}\n)\n\nconst decorateFilledOrders = (orders) => {\n\tlet previousOrder = orders[0]\n\treturn (\n\t\torders.map((order) => {\n\t\t\torder = decorateOrder(order)\n\n\t\t\t// Compare price between currnet order and previous order\n\t\t\torder = decorateFilledOrder(order, previousOrder)\n\t\t\tpreviousOrder = order\n\t\t\treturn order\n\t\t})\n\t)\n}\n\nconst decorateOrder = order =>{\n\tlet tokenAmount, etherAmount\n\n\tif(order.tokenGive.toString() === ETHER_ADDRESS){\n\t\tetherAmount = order.amountGive\n\t\ttokenAmount = order.amountGet\n\t}else{\n\t\tetherAmount = order.amountGet\n\t\ttokenAmount = order.amountGive\n\t}\n\n\t// calculate price: ether/token\n\tlet tokenPrice = (etherAmount / tokenAmount)\n\tconst precision = 10 ** 5\n\ttokenPrice = Math.round(tokenPrice * precision) / precision\n\n\treturn ({\n\t\t...order,\n\t\tetherAmount: ether(etherAmount),\n\t\ttokenAmount: tokens(tokenAmount),\n\t\ttokenPrice,\n\t\tformattedTimeStamp: moment.unix(order.timestamp).format('kk:mm:ss D/M/YY')\n\t})\n}\n\nconst decorateFilledOrder = (order, previousOrder) => {\n\treturn({\n\t\t...order,\n\t\ttokenPriceClass: tokenPriceClass(order.tokenPrice, order.id, previousOrder)\n\t})\n}\n\nconst tokenPriceClass = (tokenPrice, orderId, previousOrder) => {\n\t// Price comparison function\n\t// Display in CSS green if order price > previous order\n\t// Reversely, display CSS red if order price < previous order\n\tif (previousOrder.id === orderId){\n\t\t// Green if no previous order\n\t\treturn GREEN\n\t}\n\tif (previousOrder.tokenPrice <= tokenPrice){\n\t\treturn GREEN\n\t}else{\n\t\treturn RED\n\t}\n}\n///////////////////////\nconst openOrders = state =>{\n\tconst all = allOrders(state)\n\tconst filled = filledOrders(state)\n\tconst cancelled = cancelledOrders(state)\n\n\t// reject returns elements that are NOT TRUTHY\n\t// Filters out all filled or cancelled orders from all orders.\n\tconst openOrders = reject(all, (order) => {\n\t\t// returns a boolean when any element in array is TRUTHY is found\n\t\tconst orderFilled = filled.some((o) => o.id === order.id)\n\t\tconst orderCancelled = cancelled.some((o) => o.id === order.id)\n\t\treturn (orderFilled || orderCancelled)\n\t})\n\treturn openOrders\n}\n\nexport const orderBookLoaded = state => cancelledOrdersLoaded(state) && filledOrdersLoaded(state) && allOrdersLoaded(state)\n\nexport const orderBookSelector = createSelector(\n\topenOrders,\n\t(orders) => {\n\n\t\torders = decorateOrderBookOrders(orders)\n\n\t\torders = groupBy(orders, 'orderType')\n\n\t\tconst buyOrders = get(orders, 'Buy', [])\n\n\t\torders = {\n\t\t\t...orders,\n\t\t\t// greatest price to smallest\n\t\t\tbuyOrders: buyOrders.sort((a,b) => b.tokenPrice-a.tokenPrice)\n\t\t}\n\t\tconst sellOrders = get(orders, 'Sell', [])\n\t\torders ={\n\t\t\t...orders,\n\t\t\tsellOrders: sellOrders.sort((a,b) => a.tokenPrice-b.tokenPrice)\n\t\t}\n\t\treturn orders\n\t}\n)\nconst decorateOrderBookOrders = orders =>{\n\treturn(\n\t\torders.map((order) =>{\n\t\t\torder = decorateOrder(order)\n\t\t\torder = decorateOrderBookOrder(order)\n\t\t\treturn(order)\n\t\t})\n\t)\n}\nconst decorateOrderBookOrder = (order) =>{\n\tconst orderType = order.tokenGive === ETHER_ADDRESS ? 'Buy' : 'Sell'\n\treturn ({\n\t\t...order,\n\t\torderType,\n\t\torderTypeClass: orderTypeFillClass(orderType).type,\n\t\torderFillAction: orderTypeFillClass(orderType).fill\n\t})\n}\nconst orderTypeFillClass = orderType =>{\n\tif(orderType === 'Buy'){\n\t\treturn {type:GREEN, fill: 'Sell'}\n\t}else{\n\t\treturn {type: RED, fill: 'Buy'}\n\t}\n}\n///////////////////////////\nexport const myFilledOrdersLoadedSelector = createSelector(filledOrdersLoaded, loaded => loaded)\n\nexport const myFilledOrdersSelector = createSelector(\n\taccount,\n\tfilledOrders,\n\t(account, orders) => {\n\t\t// filter out user's conducted filled orders/trades\n\t\torders = orders.filter((o) => addressIsEqual(o.user, account) || addressIsEqual(o.userFill, account))\n\t\t//ascending\n\t\torders = orders.sort((a,b) => a.timestamp - b.timestamp)\n\t\torders = decorateMyFilledOrders(orders, account)\n\t\treturn orders\n\t}\n)\n\nconst decorateMyFilledOrders = (orders, account) => {\n\treturn (\n\t\torders.map((order) => {\n\t\t\torder = decorateOrder(order)\n\t\t\torder = decorateMyFilledOrder(order, account)\n\t\t\treturn order\n\t\t})\n\t)\n}\n\nconst decorateMyFilledOrder = (order, account) =>{\n\tconst isMyOrder = addressIsEqual(order.user, account)\n\n\tlet orderType\n\tif(isMyOrder){\n\t\t// Buy order if userA trades(Buy) ether for token, Sell order otherwise\n\t\torderType = order.tokenGive === ETHER_ADDRESS ? 'Buy' : 'Sell'\n\t}else{\n\t\t// userA filled order and trades token away for ether. Sells token.\n\t\torderType = order.tokenGive === ETHER_ADDRESS ? 'Sell' : 'Buy'\n\t}\n\n\treturn ({\n\t\t...order,\n\t\torderTypeClass: orderTypeSignClass(orderType).type,\n\t\torderSignClass: orderTypeSignClass(orderType).sign\n\t})\n}\n\nconst orderTypeSignClass = orderType =>{\n\tif(orderType === 'Buy'){\n\t\treturn {type:GREEN, sign: '+'}\n\t}else{\n\t\treturn {type: RED, sign: '-'}\n\t}\n}\n\nexport const myOpenOrdersLoadedSelector = createSelector(orderBookLoaded, loaded => loaded)\nexport const myOpenOrdersSelector = createSelector(\n\taccount,\n\topenOrders,\n\t(account, orders) => {\n\t\torders = orders.filter((o) => addressIsEqual(o.user, account))\n\t\t// descending by date\n\t\torders = orders.sort((a,b) => b.timestamp - a.timestamp)\n\t\torders = decorateMyOpenOrders(orders, account)\n\n\t\treturn orders\n\t}\n)\nconst decorateMyOpenOrders = (orders, account) => {\n\treturn (\n\t\torders.map((order) => {\n\t\t\torder = decorateOrder(order)\n\t\t\torder = decorateMyOpenOrder(order, account)\n\t\t\treturn order\n\t\t})\n\t)\n}\n\nconst decorateMyOpenOrder = (order,account) =>{\n\tlet orderType = order.tokenGive === ETHER_ADDRESS? 'Buy' : 'Sell'\n\n\treturn ({\n\t\t...order,\n\t\tformattedTimeStamp: moment.unix(order.timestamp).format('kk:mm:ss D/M/YY'),\n\t\torderType,\n\t\torderTypeClass: orderTypeSignClass(orderType).type\n\t})\n}\n////// MY ORDER HISTORY\nconst allUserOrders = state => {\n\tconst all = allOrders(state)\n\tconst filled = filledOrders(state)\n\tconst cancelled = cancelledOrders(state)\n\n\tconst allUserOrders = filter(all, (order) => {\n\t\tconst orderFilled = filled.some((o) => o.id === order.id)\n\t\tconst orderCancelled = cancelled.some((o) => o.id === order.id)\n\t\treturn (orderFilled || orderCancelled)\n\t})\n\treturn allUserOrders\n}\n\nexport const myOrderHistoryLoadedSelector = createSelector(orderBookLoaded, loaded => loaded)\nexport const myOrderHistorySelector = createSelector(\n\taccount,\n\tallUserOrders,\n\tfilledOrders,\n\t(account, orders, filledorders) =>{\n\t\torders = orders.filter((o) => addressIsEqual(o.user, account))\n\t\torders = orders.sort((a,b) => b.timestamp - a.timestamp)\n\t\torders = decorateMyAllOrders(orders, account, filledorders)\n\n\t\treturn orders\n\t}\n)\nconst decorateMyAllOrders = (orders, account, filledOrders) =>{\n\treturn (\n\t\torders.map((order) => {\n\t\t\torder = decorateOrder(order)\n\t\t\torder = decorateMyAllOrder(order, account, filledOrders)\n\t\t\treturn order\n\t\t})\n\t)\n}\nconst decorateMyAllOrder = (order, account, filledOrders) =>{\n\tconst orderStatus = filledOrders.some((o) => o.id === order.id) ? 'Filled' : 'Cancelled'\n\tlet orderType = order.tokenGive === ETHER_ADDRESS? 'Buy' : 'Sell'\n\treturn({\n\t\t...order,\n\t\torderStatus,\n\t\torderType,\n\t\torderTypeClass: orderTypeSignClass(orderType).type\n\t})\n}\n\n\n\n//////// CREATING PRICE CHARTS\nexport const priceChartLoadedSelector = createSelector(filledOrdersLoaded, loaded => loaded)\nexport const priceChartSelector = createSelector(\n\tfilledOrders,\n\t(orders) => {\n\t\t//earliest to latest\n\t\torders = orders.sort((a,b) => a.timestamp - b.timestamp)\n\t\torders = orders.map((o) => decorateOrder(o))\n\t\t\n\t\tlet secondLastOrder, lastOrder\n\t\t[secondLastOrder, lastOrder] = orders.slice(orders.length - 2, orders.length)\n\n\t\tconst lastPrice = get(lastOrder, 'tokenPrice', 0)\n\t\tconst secondLastPrice = get(secondLastOrder, 'tokenPrice', 0)\n\t\treturn ({\n\t\t\tlastPrice,\n\t\t\tlastPriceChange: (lastPrice >= secondLastPrice) ? '+' : '-',\n\t\t\tseries: [{\n\t\t\t\tdata: buildGraphData(orders)\n\t\t\t}]\n\t\t})\n\t}\n)\n\n// Lightweight chart ver.\nconst buildGraphData = orders =>{\n\t// group by trades made in the same minute or hour depending on startOf()\n\t// format('X') formats time in unix timestamp\n\tconst order = groupBy(orders, (o) => moment.unix(o.timestamp)\n\t\t\t\t\t\t\t\t\t\t\t\t.startOf('hour')\n\t\t\t\t\t\t\t\t\t\t\t\t.format(\"X\"))\n\n\t//\n\tconst times = Object.keys(order)\n\tconst graphData = times.map((time) => {\n\t\t// get each times\n\t\tconst group = order[time]\n\t\tconst open = group[0].tokenPrice //first order\n\t\tconst close = group[group.length - 1].tokenPrice //last order\n\n\t\tconst prices = group.map(o => o.tokenPrice)\n\t\tconst high = Math.max(...prices)\n\t\tconst low = Math.min(...prices)\n\t\t\n\t\treturn ({\n\t\t\ttime: parseInt(time), // must convert time to integer as json tries to pass as string\n\t\t\topen,\n\t\t\thigh,\n\t\t\tlow,\n\t\t\tclose\n\t\t})\n\t})\n\treturn graphData\n}\n//////\nconst orderCancelling = state => get(state, 'exchange.orderCancelling', false)\nexport const orderCancellingSelector = createSelector(orderCancelling, status => status)\n\nconst orderFilling= state => get(state, 'exchange.orderFilling', false)\nexport const orderFillingSelector = createSelector(orderFilling, status => status)\n\n//////\nconst balancesLoading = state => get(state, 'exchange.balancesLoading', true)\nexport const balancesLoadingSelector = createSelector(balancesLoading, loading => loading)\n\nconst ethBalance = state => get(state, 'web3.balance', 0)\nexport const ethBalanceSelector = createSelector(\n\tethBalance,\n\t(balance) =>{\n\t\treturn formatBalance(balance.toString())\n\t}\n)\n\nconst tokenBalance = state => get(state, 'token.balance', 0)\nexport const tokenBalanceSelector = createSelector(\n\ttokenBalance,\n\tbalance =>{\n\t\treturn formatBalance(balance.toString())\n\t}\n)\n\nconst exchangeEthBalance = state => get(state, 'exchange.ethBalance', 0)\nexport const exchangeEthBalanceSelector = createSelector(\n\texchangeEthBalance,\n\tbalance =>{\n\t\treturn formatBalance(balance.toString())\n\t}\n)\n\nconst exchangeTokenBalance = state => get(state, 'exchange.tokenBalance', 0)\nexport const exchangeTokenBalanceSelector = createSelector(\n\texchangeTokenBalance,\n\tbalance =>{\n\t\treturn formatBalance(balance.toString())\n\t}\n)\n\nconst ethDepositAmount = state => get(state, 'exchange.ethDepositAmount', null)\nexport const ethDepositAmountSelector = createSelector(ethDepositAmount, amount=>amount)\n\nconst ethWithdrawAmount = state => get(state, 'exchange.ethWithdrawAmount', null)\nexport const ethWithdrawAmountSelector = createSelector(ethWithdrawAmount, amount=>amount)\n\nconst tokenDepositAmount = state => get(state, 'exchange.tokenDepositAmount', null)\nexport const tokenDepositAmountSelector = createSelector(tokenDepositAmount, amount=>amount)\n\nconst tokenWithdrawAmount = state => get(state, 'exchange.tokenWithdrawAmount', null)\nexport const tokenWithdrawAmountSelector = createSelector(tokenWithdrawAmount, amount=>amount)\n\n\n// Buy order and Sell orders\nconst buyOrderMaking = state => get(state, 'exchange.buyOrder.making', false)\nexport const buyOrderMakingSelector = createSelector(buyOrderMaking, making => making)\n\nconst sellOrderMaking = state => get(state, 'exchange.sellOrder.making', false)\nexport const sellOrderMakingSelector = createSelector(sellOrderMaking, making => making)\n\nconst buyOrder = state => get(state, 'exchange.buyOrder', null)\nexport const buyOrderSelector = createSelector(buyOrder, bo => bo)\n\nconst sellOrder = state => get(state, 'exchange.sellOrder', null)\nexport const sellOrderSelector = createSelector(sellOrder, so => so)\n\nconst buyOrderAmount = state => get(state, 'exchange.buyOrder.amount', 0)\nexport const buyOrderAmountSelector = createSelector(buyOrderAmount, b => b)\n\nconst buyOrderPrice = state => get(state, 'exchange.buyOrder.price', 0)\nexport const buyOrderPriceSelector = createSelector(buyOrderPrice, b => b)\n\nconst sellOrderAmount = state => get(state, 'exchange.sellOrder.amount', 0)\nexport const sellOrderAmountSelector = createSelector(sellOrderAmount, s => s)\n\nconst sellOrderPrice = state => get(state, 'exchange.sellOrder.price', 0)\nexport const sellOrderPriceSelector = createSelector(sellOrderPrice, s => s)\n\n/////extra helper functions\n\n\n\n\n\n\n\n\n\n\n\n\n","import React, { Component } from 'react';\nimport Identicon from 'identicon.js';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap'\nimport gixLogo from '../assets/gix-logo2.png'\n\nimport './App.css'\n\nimport {connect} from 'react-redux'\nimport {accountSelector} from '../store/selectors'\n\n\nconst renderTooltip = (props) => (\n  <Tooltip id=\"button-tooltip\" {...props}>\n    Go to EtherScan\n  </Tooltip>\n)\n\nclass Navbar extends Component {\n\n  render() {\n    const identiconStyle ={\n      width: 30,\n      height: 30,\n      borderRadius: 30 / 8,\n      overflow: \"hidden\",\n      marginRight: '10px'\n    }\n    return (\n      <nav className=\"navbar navbar-dark fixed-top bg-dark flex-nowrap p-0 shadow\">\n        \n        <a\n          className=\"navbar-brand col-sm-3 col-md-2 mt-1\"\n          style = {{marginLeft: '10px'}}\n          href=\".\"\n          rel=\"noopener noreferrer\"\n        >\n          <div className= \"nav-link-hover\">\n            <img src={gixLogo} height=\"30\" className=\"mb-1 mr-2\" style = {{color: 'white', marginRight: '10px', marginBottom: '10px'}}alt=\"\" />\n            Exchange\n          </div>\n        </a>\n       \n        <div className = \"nav-link-hover\">\n\n          <ul className=\"navbar-nav px-2\">\n              <li className=\"navbar-item text-nowrap d-sm-block \">\n                  {this.props.account !== ''\n                      ? <><img\n                    style = {identiconStyle}\n                    width='30'\n                    height='30'\n                    onClick= {() => window.open(`https://etherscan.io/address/${this.props.account}`, \"_blank\")}\n                    rel=\"noopener noreferrer\"\n                    src={`data:image/png;base64,${new Identicon(this.props.account, {size: 30,background: [10, 10, 10, 50], foreground: [255, 255, 255, 255]}).toString()}`}\n                    alt=\"\" /><span className=\"textshadow\" style = {{color: 'white', marginRight: '5px'}}>|</span></>\n                      :<span><button \n                                className=\"btn btn-light\"\n                                onClick={()=>{\n                                  this.props.configMetaMask()\n                                }}\n                                >\n                                  Connect Wallet\n                              </button>\n                      </span>\n                  }\n                  <a \n                    className=\"account-etherscan\"\n                    href={`https://etherscan.io/address/${this.props.account}`}\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\"                  \n                    >\n                    <OverlayTrigger\n                      placement=\"bottom\"\n                      delay={{ show: 250, hide: 400 }}\n                      overlay={renderTooltip}\n                    >\n                      <small className=\"text-secondary\">\n                        <small \n                          id=\"account\" \n                          style={{color: 'white'}}\n                          >{this.props.account? this.props.account: \"\"}\n                        </small>\n                      </small>\n                      \n                    </OverlayTrigger>\n                    \n                  </a>\n              </li>\n          </ul>\n\n        </div>\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    account: accountSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(Navbar);\n\n\n","export function web3Loaded(connection){\n\treturn{\n\t\ttype: 'WEB3_LOADED',\n\t\tconnection: connection\n\t}\n}\n\nexport function web3AccountLoaded(account){\n\treturn {\n\t\ttype: 'WEB3_ACCOUNT_LOADED',\n\t\taccount\n\t}\n}\n\nexport function tokenLoaded(contract){\n\treturn {\n\t\ttype: 'TOKEN_LOADED',\n\t\tcontract\n\t}\n}\n\nexport function exchangeLoaded(contract){\n\treturn {\n\t\ttype: 'EXCHANGE_LOADED',\n\t\tcontract\n\t}\n}\n\n// orders: cancelled, filled, all\nexport function cancelledOrdersLoaded(orders){\n\treturn {\n\t\ttype: 'CANCELLED_ORDERS_LOADED',\n\t\tcancelledOrders: orders\n\t}\n}\n\nexport function filledOrdersLoaded(orders){\n\treturn{\n\t\ttype: 'FILLED_ORDERS_LOADED',\n\t\tfilledOrders: orders\n\t}\n}\nexport function allOrdersLoaded(orders){\n\treturn{\n\t\ttype: 'ALL_ORDERS_LOADED',\n\t\tallOrders: orders\n\t}\n}\nexport function orderCancelling(){\n\treturn{\n\t\ttype: 'ORDER_CANCELLING'\n\t}\n}\n\nexport function orderCancelled(order){\n\treturn{\n\t\ttype: 'ORDER_CANCELLED',\n\t\tcancelledOrder: order\n\t}\n}\n\nexport function orderFilling(order){\n\treturn{\n\t\ttype: 'ORDER_FILLING'\n\t}\n}\nexport function orderFilled(order){\n\treturn{\n\t\ttype: 'ORDER_FILLED',\n\t\tfilledOrder: order\n\t}\n}\n\n// eth and token balances\nexport function ethBalanceLoaded(balance){\n\treturn{\n\t\ttype: 'ETH_BALANCE_LOADED',\n\t\tbalance\n\t}\n}\n\nexport function tokenBalanceLoaded(balance){\n\treturn{\n\t\ttype: 'TOKEN_BALANCE_LOADED',\n\t\tbalance\n\t}\n}\nexport function exchangeEthBalanceLoaded(balance){\n\treturn{\n\t\ttype: 'EXCHANGE_ETH_BALANCE_LOADED',\n\t\tbalance\n\t}\n}\nexport function exchangeTokenBalanceLoaded(balance){\n\treturn{\n\t\ttype: 'EXCHANGE_TOKEN_BALANCE_LOADED',\n\t\tbalance\n\t}\n}\n\nexport function balancesLoaded(){\n\treturn{\n\t\ttype: 'BALANCES_LOADED'\n\t}\n}\nexport function balancesLoading(){\n\treturn{\n\t\ttype: 'BALANCES_LOADING'\n\t}\n}\n\n// deposit and withdrawals for eth and token\nexport function ethDepositAmountChanged(amount){\n\treturn {\n\t\ttype: 'ETH_DEPOSIT_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\nexport function ethWithdrawAmountChanged(amount){\n\treturn {\n\t\ttype: 'ETH_WITHDRAW_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\n\nexport function tokenDepositAmountChanged(amount){\n\treturn {\n\t\ttype: 'TOKEN_DEPOSIT_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\n\nexport function tokenWithdrawAmountChanged(amount){\n\treturn {\n\t\ttype: 'TOKEN_WITHDRAW_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\n\n// buy orders\nexport function buyOrderMaking(price){\n\treturn {\n\t\ttype: 'BUY_ORDER_MAKING',\n\t\tprice\n\t}\n}\nexport function buyOrderAmountChanged(amount){\n\treturn {\n\t\ttype: 'BUY_ORDER_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\nexport function buyOrderPriceChanged(price){\n\treturn {\n\t\ttype: 'BUY_ORDER_PRICE_CHANGED',\n\t\tprice\n\t}\n}\n//sell orders\nexport function sellOrderAmountChanged(amount){\n\treturn {\n\t\ttype: 'SELL_ORDER_AMOUNT_CHANGED',\n\t\tamount\n\t}\n}\nexport function sellOrderPriceChanged(price){\n\treturn {\n\t\ttype: 'SELL_ORDER_PRICE_CHANGED',\n\t\tprice\n\t}\n}\n\nexport function sellOrderMaking(price){\n\treturn {\n\t\ttype: 'SELL_ORDER_MAKING',\n\t\tprice\n\t}\n}\n//order made\nexport function orderMade(order){\n\treturn {\n\t\ttype: 'ORDER_MADE',\n\t\torder\n\t}\n}\n\n\n\n\n\n\n\n\n","import Web3 from 'web3'\nimport {\n\tweb3Loaded,\n\tweb3AccountLoaded,\n\ttokenLoaded,\n\texchangeLoaded,\n\tcancelledOrdersLoaded,\n\tfilledOrdersLoaded,\n\tallOrdersLoaded,\n\torderCancelling,\n\torderCancelled,\n\torderFilling,\n\torderFilled,\n\tethBalanceLoaded,\n\ttokenBalanceLoaded,\n\texchangeEthBalanceLoaded,\n\texchangeTokenBalanceLoaded,\n\tbalancesLoaded,\n\tbalancesLoading,\n\tbuyOrderMaking,\n\tsellOrderMaking,\n\torderMade\n} from './actions'\n\nimport Exchange from '../abis/Exchange.json'\nimport PoiToken from '../abis/PoiToken.json'\n\nimport {\n\tETHER_ADDRESS\n} from '../helpers'\n\nexport const loadWeb3 = async (dispatch) =>{\n\t\n\tconst web3 = new Web3(window.ethereum)\n\n\tdispatch(web3Loaded(web3))\n\treturn web3\n}\n\nexport const loadAccount = async (account, dispatch) => {\n\n\tdispatch(web3AccountLoaded(account))\n\treturn account\n}\n\nexport const loadToken = async(web3, networkId, dispatch) =>{\n    var networkId_decimal = web3.utils.hexToNumberString(networkId)\n\n\ttry{\n\t\tconst token = await new web3.eth.Contract(PoiToken.abi, PoiToken.networks[networkId_decimal].address)\n\t\tdispatch(tokenLoaded(token))\n\t\treturn token\n\t}catch (err){\n\t\tconsole.log(\"Contract not deployed on the current network.\")\n\t\treturn null\n\t}\n}\n\nexport const loadExchange = async(web3, networkId, dispatch) =>{\n    var networkId_decimal = web3.utils.hexToNumberString(networkId)\n\n\ttry{\n\t\tconst exchange = await new web3.eth.Contract(Exchange.abi, Exchange.networks[networkId_decimal].address)\n\t\tdispatch(exchangeLoaded(exchange))\n\t\treturn exchange\n\t}catch (err){\n\t\tconsole.log(\"GiX contract not deployed on the current network.\")\n\t\treturn null\n\t}\n}\n\n\nexport const loadAllOrders = async (exchange, dispatch) => {\n\t// load cancelled orders\n\tconst cancelStream = await exchange.getPastEvents('Cancel', {fromBlock: 0, toBlock: 'latest'})\n\tconst cancelledOrders = cancelStream.map((event) => event.returnValues)  //returnValues from event log\n\tdispatch(cancelledOrdersLoaded(cancelledOrders))\n\n\t//load filled orders\n\tconst tradeStream = await exchange.getPastEvents('Trade', {fromBlock: 0, toBlock: 'latest'})\n\tconst filledOrders = tradeStream.map((event) => event.returnValues)\n\tdispatch(filledOrdersLoaded(filledOrders))\n\n\t// load all orders\n\tconst orderStream = await exchange.getPastEvents('Order', {fromBlock:0, toBlock:'latest'})\n\tconst allOrders = orderStream.map((event) => event.returnValues)\n\tdispatch(allOrdersLoaded(allOrders))\n}\n\nexport const cancelOrder = async (exchange, order, account, dispatch) => {\n\tawait exchange.methods.cancelOrder(order.id)\n\t\t\t\t\t.send({from: account})\n\t\t\t\t\t.on('transactionHash', (hash) => {\n\t\t\t\t\t\tdispatch(orderCancelling())\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}).catch((error) =>{\n\t\t\t\t\t\tconsole.log(\"There was an error in cancelling the order.\")\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n\t\n}\nexport const fillOrder = async (exchange, order, account, dispatch) => {\n\tawait exchange.methods.fillOrder(order.id)\n\t\t\t\t\t.send({from: account})\n\t\t\t\t\t.on('transactionHash', (hash) => {\n\t\t\t\t\t\tdispatch(orderFilling())\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}).catch((error) =>{\n\t\t\t\t\t\tconsole.log(\"There was an error in filling the order.\")\n\t\t\t\t\t\treturn false\n\t\t\t\t\t})\n}\n\nexport const loadBalances = async(web3, exchange, token, account, dispatch) => {\n\tif (account !== ''){\n\t\tconst ethBalance = await web3.eth.getBalance(account)\n\t\tdispatch(ethBalanceLoaded(ethBalance))\n\n\t\tconst tokenBalance = await token.methods.balanceOf(account).call()\n\t\tdispatch(tokenBalanceLoaded(tokenBalance))\n\n\t\tconst exchangeEthBalance = await exchange.methods.balanceOf(ETHER_ADDRESS, account).call()\n\t\tdispatch(exchangeEthBalanceLoaded(exchangeEthBalance))\n\n\t\tconst exchangeTokenBalance = await exchange.methods.balanceOf(token.options.address, account).call()\n\t\tdispatch(exchangeTokenBalanceLoaded(exchangeTokenBalance))\n\t}else{\n\t\tdispatch(ethBalanceLoaded(0))\n\t\tdispatch(tokenBalanceLoaded(0))\n\t\tdispatch(exchangeEthBalanceLoaded(0))\n\t\tdispatch(exchangeTokenBalanceLoaded(0))\n\t}\n\tdispatch(balancesLoaded())\n\t\n}\n\nexport const depositEth = async(exchange, web3, ethDepositAmount, account, dispatch) =>{\n\tif (account !== '' && ethDepositAmount !== null){\n\t\tconst ethAmount = web3.utils.toWei(ethDepositAmount.toString(), 'ether')\n\t\tawait exchange.methods.depositEther()\n\t\t\t\t\t\t\t\t.send({from: account, value: ethAmount})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(balancesLoading())\n\t\t\t\t\t\t\t\t}).on('error', (error)=>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\twindow.alert(\"Could not deposit Eth. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t}\n}\nexport const withdrawEth = async(exchange, web3, ethWithdrawAmount, account, dispatch) =>{\n\tif (account !== '' && ethWithdrawAmount !== null){\n\t\tconst ethAmount = web3.utils.toWei(ethWithdrawAmount.toString(), 'ether')\n\t\tawait exchange.methods.withdrawEther(ethAmount)\n\t\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(balancesLoading())\n\t\t\t\t\t\t\t\t}).on('error', (error)=>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\twindow.alert(\"Could not withdraw Eth. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t}\n}\n\nexport const depositToken = async(exchange, web3, tokenDepositAmount, account, token, dispatch) =>{\n\tif (account !== '' && tokenDepositAmount !== null){\n\t\tconst tokenAmount = web3.utils.toWei(tokenDepositAmount.toString(), 'ether')\n\n\t\tawait token.methods.approve(exchange.options.address, tokenAmount)\n\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t.on('transactionHash', async (hash) => {\n\t\t\t\t\t\t\t\tawait exchange.methods.depositToken(token.options.address, tokenAmount)\n\t\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(balancesLoading())\n\t\t\t\t\t\t\t\t}).on('error', (error)=>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\twindow.alert(\"Could not deposit token. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).on('error', (error) => {\n\t\t\t\t\t\t\t\twindow.alert(\"User cancelled. Try again.\")\n\t\t\t\t\t\t\t})\n\t}\n}\nexport const withdrawToken = async(exchange, web3, tokenWithdrawAmount, account, token, dispatch) =>{\n\tif (account !== '' && tokenWithdrawAmount !== null){\n\t\tconst tokenAmount = web3.utils.toWei(tokenWithdrawAmount.toString(), 'ether')\n\t\tawait exchange.methods.withdrawToken(token.options.address, tokenAmount)\n\t\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(balancesLoading())\n\t\t\t\t\t\t\t\t}).on('error', (error)=>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\twindow.alert(\"Could not withdraw token. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t}\n}\n\nexport const makeBuyOrder = async (exchange, token, web3, order, account, dispatch) => {\n\tif (account !== '' && order !== null){\n\t\tconst tokenGet = token.options.address\n\t\tconst amountGet = web3.utils.toWei(order.amount.toString(), 'ether')\n\t\tconst tokenGive = ETHER_ADDRESS\n\n\t\tconst precision = 10**18\n\t\tconst ordering = Math.round(order.amount * order.price * precision)/ precision\n\t\tconst amountGive = web3.utils.toWei(ordering.toString(), 'ether')\n\n\t\tawait exchange.methods.makeOrder(tokenGet, amountGet, tokenGive, amountGive)\n\t\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(buyOrderMaking())\n\t\t\t\t\t\t\t\t}).on('error', (error) =>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\t// window.alert(\"Could not make buy order. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t}\n\t\n}\nexport const makeSellOrder = async (exchange, token, web3, order, account, dispatch) => {\n\tif (account !== '' && order !== null){\n\t\tconst tokenGet = ETHER_ADDRESS\n\n\t\tconst precision = 10**18\n\t\tconst ordering = Math.round(order.amount * order.price * precision)/ precision\n\t\tconst amountGet = web3.utils.toWei(ordering.toString(), 'ether')\n\n\t\tconst tokenGive = token.options.address\n\t\tconst amountGive = web3.utils.toWei(order.amount.toString(), 'ether')\n\n\t\tawait exchange.methods.makeOrder(tokenGet, amountGet, tokenGive, amountGive)\n\t\t\t\t\t\t\t\t.send({from: account})\n\t\t\t\t\t\t\t\t.on('transactionHash', (hash) =>{\n\t\t\t\t\t\t\t\t\tdispatch(sellOrderMaking())\n\t\t\t\t\t\t\t\t}).on('error', (error) =>{\n\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\t// window.alert(\"Could not make sell order. Try again.\")\n\t\t\t\t\t\t\t\t})\n\t}\n\t\n\n}\n\n// smart contract event listener\nexport const subscribeToEvents = async(exchange, dispatch)=>{\n\tawait exchange.events.Cancel({}, (error, event) =>{\n\t\tdispatch(orderCancelled(event.returnValues))\n\t})\n\tawait exchange.events.Trade({}, (error, event) => {\n\t\tdispatch(orderFilled(event.returnValues))\n\t})\n\tawait exchange.events.Deposit({}, (error, event) =>{\n\t\tdispatch(balancesLoaded())\n\t})\n\tawait exchange.events.Withdraw({}, (error, event) =>{\n\t\tdispatch(balancesLoaded())\n\t})\n\tawait exchange.events.Order({}, (error, event) =>{\n\t\tdispatch(orderMade(event.returnValues))\n\t})\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react'\nimport { \n\tStickyBallLoading,\n\tMeteorRainLoading,\n} from 'react-loadingg';\n\nexport default function({type}){\n\tif(type === 'table'){\n\t\treturn(<StickyBallLoading color=\"white\"/>)\n\n\t}if(type === 'Initialiser'){\n\t\treturn (<MeteorRainLoading color=\"white\" size=\"large\"/>)\n\t}if(type === 'header'){\n\t\treturn (<span className=\"spinner-border spinner-border-sm ml-auto\" role=\"status\" aria-hidden=\"true\"></span>)\n\t}else{\n\t\treturn(<div><StickyBallLoading color=\"white\"/></div>)\n\t}\n}","import React, { Component } from 'react';\nimport {connect} from 'react-redux'  // required to connect redux and app. Go to bottom page for config.\n\nimport {filledOrdersLoadedSelector, filledOrdersSelector} from '../store/selectors'\n\nimport Loader from './Loader'\n\nconst showFilledOrders = (filledOrders) =>{\n  return(\n    <tbody>\n      { filledOrders.map((order) => {\n        return(\n          <tr style={{fontSize: '13px'}} className={`order-${order.id}`} key={order.id}>\n            <td className= \"text-muted\">{order.formattedTimeStamp}</td>\n            <td>{order.tokenAmount}</td>\n            <td className={`text-${order.tokenPriceClass}`}>{order.tokenPrice}</td>\n          </tr>\n        )\n      })}\n    </tbody>)\n}\nclass Trades extends Component {\n  render(){\n    return(\n      <div className=\"card bg-dark text-white\">\n\n        <div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n          \n          <span>Market Trades</span>\n          {this.props.filledOrdersLoaded\n            ?<span></span>\n            :<Loader type=\"header\"/>\n          }\n          \n        </div>\n\n        <div className=\"card-body\">\n\n          <table className=\"table table-dark table-sm small table-hover\">\n            <thead> \n              <tr className=\"text-muted\" style={{fontSize: '10px'}}>\n                <th> Time</th>\n                <th> Size (POI) </th>\n                <th> Price (POI/ETH) </th>\n              </tr>\n            </thead>\n              {this.props.filledOrders\n                ? showFilledOrders(this.props.filledOrders)\n                : <tbody></tbody>\n              }\n\n          </table>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    filledOrdersLoaded: filledOrdersLoadedSelector(state),\n    filledOrders: filledOrdersSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(Trades);\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux'  // required to connect redux and app. Go to bottom page for config.\n\nimport {\n  orderBookLoaded,\n  orderBookSelector,\n  accountSelector,\n  exchangeSelector,\n  orderFillingSelector\n} from '../store/selectors'\n\nimport {fillOrder} from '../store/interactions'\n\nimport Loader from './Loader'\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap'\n\nimport './App.css'\n\nconst wait = (seconds) => {\n  const milliseconds = seconds * 1000\n  return new Promise(resolve => setTimeout(resolve, milliseconds))\n}\n\nclass OrderBook extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectedRow : \"\"\n    }\n  }\n  renderTableAnimation= (selectedRow) =>{\n    if(selectedRow !== \"\"){\n      this.setState({selectedRow})\n    }else{\n      this.setState({selectedRow: \"\"})\n    }\n  }\n  renderOrder = (order, props) =>{\n    const {exchange, account, dispatch} =  props\n    return(\n\n      <OverlayTrigger\n        key={order.id}\n        placement='auto'\n        overlay={\n          <Tooltip id={order.id}>\n            {`Click here to ${order.orderFillAction}`}\n          </Tooltip>  \n        }\n      >\n        <tr \n          key={order.id} \n          className=\"order-book-order\" \n          style={{fontSize: '13px'}}\n          onClick={async (e) => {\n            fillOrder(exchange, order, account, dispatch)\n            this.renderTableAnimation(order.id)\n            await wait(1)\n            this.renderTableAnimation(\"\")\n          }}\n          \n        >\n          <td style = {{textAlign: 'center'}} className={`${this.state.selectedRow === order.id ? \"tableBuySelected\" : \"tableReset\"}`}>{order.tokenAmount}</td>\n          <td style = {{textAlign: 'center'}} className={`text-${order.orderTypeClass} ${this.state.selectedRow===order.id?\"tableBuySelected\":\"tableReset\"}`}>{Math.round(order.tokenPrice * (10**5)) / 10**5}</td>\n          <td style = {{textAlign: 'center', borderRightStyle: 'solid', borderRightWidth: '1px'}} className={`${this.state.selectedRow === order.id ? \"tableBuySelected\" : \"tableReset\"}`}>{Math.round(order.etherAmount * (10**5))/10**5}</td>\n        </tr>\n      </OverlayTrigger>\n    )\n  }\n  renderOrder2 = (order, props) =>{\n    const {exchange, account, dispatch} =  props\n    return(\n      \n      <OverlayTrigger\n        key={order.id}\n        placement='auto'\n        overlay={\n          <Tooltip id={order.id}>\n            {`Click here to ${order.orderFillAction}`}\n          </Tooltip>  \n        }\n      >\n        <tr \n          key={order.id} \n          className=\"order-book-order\" \n          style={{fontSize: '13px'}}\n          onClick={async (e) => {\n            fillOrder(exchange, order, account, dispatch)\n            this.renderTableAnimation(order.id)\n            await wait(1)\n            this.renderTableAnimation(\"\")\n          }}\n        >\n          <td style = {{textAlign: 'center', borderLeftStyle: 'solid', borderLeftWidth: '1px'}} className={`${this.state.selectedRow === order.id ? \"tableSellSelected\" : \"tableReset\"}`}>{Math.round(order.etherAmount * (10**5))/10**5}</td>\n          <td style = {{textAlign: 'center'}} className={`text-${order.orderTypeClass} ${this.state.selectedRow===order.id?\"tableSellSelected\":\"tableReset\"}`}>{Math.round(order.tokenPrice * (10**5)) / 10**5}</td>\n          <td style = {{textAlign: 'center'}} className={`${this.state.selectedRow === order.id ? \"tableSellSelected\" : \"tableReset\"}`}>{order.tokenAmount}</td>\n        </tr>\n      </OverlayTrigger>\n    )\n  }\n\n\n  showOrderBook = (props) =>{\n    const {orderBook} = props \n    return (\n      <tbody>\n        <tr className=\"text-muted trBorderBuy\" style={{fontSize: '11px', textAlign: 'center'}}>\n          <th>Bid&nbsp;Size</th>\n          <th>Bid Price</th>\n          <th>Value</th>\n        </tr>\n        <tr className=\"text-muted\" style={{fontSize: '10px', textAlign: 'center'}}>\n          <th>(POI)</th>\n          <th>(POI/ETH)</th>\n          <th>(ETH)</th>\n        </tr>\n        {orderBook.buyOrders.map((order) => this.renderOrder(order, props))}\n      </tbody>\n\n    )\n  }\n  showOrderBook2 = (props) =>{\n    const {orderBook} = props \n    return (\n      <tbody>\n        <tr className=\"text-muted trBorderSell\" style={{fontSize: '11px', textAlign: 'center'}}>\n          <th>Value</th>\n          <th>Ask Price</th>\n          <th>Ask&nbsp;Size</th>\n        </tr>\n        <tr className=\"text-muted\" style={{fontSize: '10px', textAlign: 'center'}}>\n          <th>(ETH)</th>\n          <th>(POI/ETH)</th>\n          <th>(POI)</th>\n        </tr>\n        {orderBook.sellOrders.map((order) => this.renderOrder2(order, props))}\n      </tbody>\n\n    )\n  }\n  render(){\n    return(\n      <div className=\"card bg-dark text-white\">\n\n        <div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n          \n          <span>Order Book</span>\n          {this.props.orderBookLoaded & !this.props.orderFilling\n            ?<span></span>\n            :<Loader type=\"header\"/>\n          }\n          {/*{console.log(\"Loaded:\", this.props.orderBookLoaded)}\n          {console.log(\"SHOW:\", this.props.showOrderBook)}*/}\n        </div>\n        <div className=\"card-body d-flex\">\n          <div className=\"card-body2 order-book\">\n            <table className=\"table table-dark table-sm small table-hover\">\n              {this.props.orderBookLoaded\n                ?this.showOrderBook(this.props)\n                :<tbody><tr><th></th></tr></tbody>\n              }\n            </table>\n            {/*<table className=\"table table-dark table-sm small table-hover\">\n              {this.props.orderBookLoaded\n                ?this.showOrderBook2(this.props)\n                :<tbody><tr><th></th></tr></tbody>\n              }\n            </table>*/}\n          </div>\n          <div className=\"card-body2 order-book\">\n            {/*<table className=\"table table-dark table-sm small table-hover\">\n              {this.props.orderBookLoaded\n                ?this.showOrderBook(this.props)\n                :<tbody><tr><th></th></tr></tbody>\n              }\n            </table>*/}\n            <table className=\"table table-dark table-sm small table-hover\">\n              {this.props.orderBookLoaded\n                ?this.showOrderBook2(this.props)\n                :<tbody><tr><th></th></tr></tbody>\n              }\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    orderBookLoaded: orderBookLoaded(state),\n    orderBook: orderBookSelector(state),\n    account: accountSelector(state),\n    exchange: exchangeSelector(state),\n    orderFilling: orderFillingSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(OrderBook);\n","import React, { Component} from 'react'\nimport {connect} from 'react-redux'\n\nimport {Tabs, Tab} from 'react-bootstrap'\nimport Loader from './Loader'\n\nimport './App.css';\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport {\n\tmyFilledOrdersLoadedSelector, \n\tmyFilledOrdersSelector,\n\tmyOpenOrdersLoadedSelector,\n\tmyOpenOrdersSelector,\n\taccountSelector,\n\texchangeSelector,\n\torderCancellingSelector,\n\tmyOrderHistoryLoadedSelector,\n\tmyOrderHistorySelector,\n\n} from '../store/selectors'\n\nimport {cancelOrder} from '../store/interactions'\n\nconst showMyFilledOrders = (myfilledOrders) =>{\n  return(\n    <tbody>\n      { myfilledOrders.map((order) => {\n        return(\n          <tr style={{fontSize: '13px'}} className={`order-${order.id}`} key={order.id}>\n            <td className= \"text-muted\">{order.formattedTimeStamp}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.orderSignClass}{order.tokenAmount}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.tokenPrice}</td>\n            <td>{Math.round(order.tokenAmount * order.tokenPrice * (10**5)) / (10**5)}</td>\n          </tr>\n        )\n      })}\n    </tbody>)\n}\n\nconst showMyOpenOrders = (props) =>{\n\n\tconst {myOpenOrders, orderCancelling, dispatch, account, exchange} = props\n\treturn(\n\t\t<tbody>\n      { myOpenOrders.map((order) => {\n        return(\n          <tr style = {{verticalAlign: 'baseline'}} className={`order-${order.id}`} key={order.id}>\n          \t<td className= \"text-muted\">{order.formattedTimeStamp}</td>\n\t          <td style = {{verticalAlign: 'baseline'}} className={`text-${order.orderTypeClass}`}>{order.tokenAmount}</td>\n            <td style = {{verticalAlign: 'baseline'}} className={`text-${order.orderTypeClass}`}>{order.tokenPrice}</td>\n            <td \n            \tstyle = {{verticalAlign: 'baseline'}} \n            \tclassName=\"text-muted\"\n            \t>\n\t        \t\t\t<button \n\t        \t\t\t\tkey={order.id}\n\t        \t\t\t\tname={order.id}\n\t        \t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}}\n\t        \t\t\t\tclassName=\"btn btn-dark btn-sm\"\n\t        \t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t        \t\t\t\tonClick={(event) => {\n\t        \t\t\t\t\tif(!orderCancelling){\n\t        \t\t\t\t\t\tcancelOrder(exchange, order, account, dispatch)\n\t        \t\t\t\t\t}\n\t\t            \t\t\n\t\t            \t}}\n\t        \t\t\t\t>\n\t        \t\t\t\t<span>Cancel</span>\n\t      \t\t\t\t</button>\n            </td>\n          </tr>\n        )\n      })}\n    </tbody>)\n}\nconst showMyAllOrders = (myallOrders) =>{\n\treturn (\n\t\t<tbody>\n\t\t\t{myallOrders.map((order) => {\n\t\t\t\treturn (\n\t\t\t\t\t<tr style={{fontSize: '13px'}} className={`order-${order.id}`} key={order.id}>\n            <td className= \"text-muted\">{order.formattedTimeStamp}</td>\n            <td className={`text-${order.orderTypeClass}`}>{order.orderType}</td>\n            <td>{order.tokenAmount}</td>\n            <td>{order.tokenPrice}</td>\n            <td>{Math.round(order.tokenAmount * order.tokenPrice * (10**5)) / (10**5)}</td>\n            <td>{order.orderStatus}</td>\n          </tr>\n\t\t\t\t)\n\t\t\t})}\n\t\t</tbody>\n\t)\n}\n\nclass MyTransactions extends Component{\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"card bg-dark text-white\">\n\t\t\t\t\n\t\t\t\t<div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n\t\t\t\t\t<span>My Transactions</span>\n          {this.props.myFilledOrdersLoaded && this.props.myOpenOrdersLoaded && !this.props.orderCancelling\n            ?<span></span>\n            :<Loader type=\"header\"/>\n          }\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<Tabs fill justify defaultActiveKey=\"open-orders\" className=\"bg-dark text-white\">\n\t\t\t\t\t\t<Tab tabClassName=\"transactions-tab-config\" eventKey=\"open-orders\" title=\"Open Orders\">\n\t\t\t\t\t\t\t<table className=\"table table-dark table-sm small table-hover\">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr className=\"text-muted\" >\n\t\t\t\t\t\t\t\t\t\t<th>Time</th>\n\t\t\t\t\t\t\t\t\t\t<th>Fill Size/Order Size (POI)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Price (POI/ETH)</th>\n\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t{this.props.myOpenOrdersLoaded\n\t\t              ?showMyOpenOrders(this.props)\n\t\t              :<tbody></tbody>\n\t\t            }\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab tabClassName=\"transactions-tab-config\" eventKey=\"order-history\" title=\"Order History\">\n\t\t\t\t\t\t\t<table className=\"table table-dark table-sm small table-hover\">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t<th>Time</th>\n\t\t\t\t\t\t\t\t\t\t<th>Side</th>\n\t\t\t\t\t\t\t\t\t\t<th>Filled Size/Order Size (POI)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Price (POI/ETH)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Filled Value/Order Value (ETH)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t{this.props.myOpenOrdersLoaded\n\t\t              ?showMyAllOrders(this.props.myOrderHistory)\n\t\t              :<tbody></tbody>\n\t\t            }\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t<Tab tabClassName=\"transactions-tab-config\" eventKey=\"trade-history\" title=\"Trade History\" className=\"bg-dark text-white\">\n\t\t\t\t\t\t\t<table className=\"table table-dark table-sm small table-hover\">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t<th>Time</th>\n\t\t\t\t\t\t\t\t\t\t<th>Size (POI)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Price (POI/ETH)</th>\n\t\t\t\t\t\t\t\t\t\t<th>Value (ETH)</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t{this.props.myFilledOrdersLoaded\n\t\t              ?showMyFilledOrders(this.props.myFilledOrders)\n\t\t              :<tbody></tbody>\n\t\t            }\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</Tab>\n\t\t\t\t\t</Tabs>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nfunction mapStateToProps(state){\n  return {\n    myFilledOrdersLoaded: myFilledOrdersLoadedSelector(state),\n    myFilledOrders: myFilledOrdersSelector(state),\n    myOpenOrdersLoaded: myOpenOrdersLoadedSelector(state),\n    myOpenOrders: myOpenOrdersSelector(state),\n    myOrderHistoryLoaded: myOrderHistoryLoadedSelector(state),\n    myOrderHistory: myOrderHistorySelector(state),\n    orderCancelling: orderCancellingSelector(state),\n    account: accountSelector(state),\n    exchange: exchangeSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(MyTransactions);","export const lightChartOptions = {\n\tlayout: {\n        backgroundColor: '#1d1d1d',\n        textColor: 'rgba(255, 255, 255, 0.9)',\n  },\n\tgrid: {\n        vertLines: {\n          color: '#334158',\n        },\n        horzLines: {\n          color: '#334158',\n        },\n    },\n\tpriceScale: {\n        position: 'right',\n        autoScale: false,\n        alignLabels: true,\n        borderVisible: true,\n        borderColor: '#485c7b',\n    },\n\t// rightPriceScale: {\n\t// \tborderColor: 'rgba(197, 203, 206, 0.8)',\n\t// },\n\n\ttimeScale: {\n\t\tborderColor: '#485c7b',\n\t\trightOffset: 6,\n\t\t// barSpacing: 3,\n\t\t// fixLeftEdge: true,\n\t\tlockVisibleTimeRangeOnResize: true,\n\t\trightBarStaysOnScroll: true,\n\t\tborderVisible: true,\n\t\tvisible: true,\n\t\ttimeVisible: true,\n\t\tsecondsVisible: true\n\t},\n}\n\n// export const dummyData = [\n// \t{ time: 1646517600, value: 19103293.0 },\n//   { time: 1646542800, value: 21737523.0 },\n//   { time: 1646546400, value: 29328713.0 },\n//   { time: 1646553600, value: 37435638.0 },\n//   { time: 1646557200, value: 25269995.0 },\n//   { time: 1646611200, value: 24973311.0 },\n//   { time: 1646658000, value: 22103692.0 },\n//   { time: 1646690400, value: 25231199.0 },\n//   { time: 1646694000, value: 24214427.0 },\n// ]\n\n// export const priceData = [\n//   {\n//     time: '2018-10-19',\n//     open: 180.34,\n//     high: 180.99,\n//     low: 178.57,\n//     close: 179.85\n//   },\n//   {\n//     time: '2018-10-22',\n//     open: 180.82,\n//     high: 181.4,\n//     low: 177.56,\n//     close: 178.75\n//   },\n//   {\n//     time: '2018-10-23',\n//     open: 175.77,\n//     high: 179.49,\n//     low: 175.44,\n//     close: 178.53\n//   },\n//   {\n//     time: '2018-10-24',\n//     open: 178.58,\n//     high: 182.37,\n//     low: 176.31,\n//     close: 176.97\n//   },\n//   {\n//     time: '2018-10-25',\n//     open: 177.52,\n//     high: 180.5,\n//     low: 176.83,\n//     close: 179.07\n//   },\n//   {\n//     time: '2018-10-26',\n//     open: 176.88,\n//     high: 177.34,\n//     low: 170.91,\n//     close: 172.23\n//   },\n//   {\n//     time: '2018-10-29',\n//     open: 173.74,\n//     high: 175.99,\n//     low: 170.95,\n//     close: 173.2\n//   },\n//   {\n//     time: '2018-10-30',\n//     open: 173.16,\n//     high: 176.43,\n//     low: 172.64,\n//     close: 176.24\n//   },\n//   {\n//     time: '2018-10-31',\n//     open: 177.98,\n//     high: 178.85,\n//     low: 175.59,\n//     close: 175.88\n//   },\n//   {\n//     time: '2018-11-01',\n//     open: 176.84,\n//     high: 180.86,\n//     low: 175.9,\n//     close: 180.46\n//   },\n//   {\n//     time: '2018-11-02',\n//     open: 182.47,\n//     high: 183.01,\n//     low: 177.39,\n//     close: 179.93\n//   },\n//   {\n//     time: '2018-11-05',\n//     open: 181.02,\n//     high: 182.41,\n//     low: 179.3,\n//     close: 182.19\n//   },\n//   {\n//     time: '2018-11-06',\n//     open: 181.93,\n//     high: 182.65,\n//     low: 180.05,\n//     close: 182.01\n//   },\n//   {\n//     time: '2018-11-07',\n//     open: 183.79,\n//     high: 187.68,\n//     low: 182.06,\n//     close: 187.23\n//   },\n//   {\n//     time: '2018-11-08',\n//     open: 187.13,\n//     high: 188.69,\n//     low: 185.72,\n//     close: 188.0\n//   },\n//   {\n//     time: '2018-11-09',\n//     open: 188.32,\n//     high: 188.48,\n//     low: 184.96,\n//     close: 185.99\n//   },\n//   {\n//     time: '2018-11-12',\n//     open: 185.23,\n//     high: 186.95,\n//     low: 179.02,\n//     close: 179.43\n//   },\n//   {\n//     time: '2018-11-13',\n//     open: 177.3,\n//     high: 181.62,\n//     low: 172.85,\n//     close: 179.0\n//   },\n//   {\n//     time: '2018-11-14',\n//     open: 182.61,\n//     high: 182.9,\n//     low: 179.15,\n//     close: 179.9\n//   },\n//   {\n//     time: '2018-11-15',\n//     open: 179.01,\n//     high: 179.67,\n//     low: 173.61,\n//     close: 177.36\n//   },\n//   {\n//     time: '2018-11-16',\n//     open: 173.99,\n//     high: 177.6,\n//     low: 173.51,\n//     close: 177.02\n//   },\n//   {\n//     time: '2018-11-19',\n//     open: 176.71,\n//     high: 178.88,\n//     low: 172.3,\n//     close: 173.59\n//   },\n//   {\n//     time: '2018-11-20',\n//     open: 169.25,\n//     high: 172.0,\n//     low: 167.0,\n//     close: 169.05\n//   },\n//   {\n//     time: '2018-11-21',\n//     open: 170.0,\n//     high: 170.93,\n//     low: 169.15,\n//     close: 169.3\n//   },\n//   {\n//     time: '2018-11-23',\n//     open: 169.39,\n//     high: 170.33,\n//     low: 168.47,\n//     close: 168.85\n//   },\n//   {\n//     time: '2018-11-26',\n//     open: 170.2,\n//     high: 172.39,\n//     low: 168.87,\n//     close: 169.82\n//   },\n//   {\n//     time: '2018-11-27',\n//     open: 169.11,\n//     high: 173.38,\n//     low: 168.82,\n//     close: 173.22\n//   },\n//   {\n//     time: '2018-11-28',\n//     open: 172.91,\n//     high: 177.65,\n//     low: 170.62,\n//     close: 177.43\n//   },\n//   {\n//     time: '2018-11-29',\n//     open: 176.8,\n//     high: 177.27,\n//     low: 174.92,\n//     close: 175.66\n//   },\n//   {\n//     time: '2018-11-30',\n//     open: 175.75,\n//     high: 180.37,\n//     low: 175.11,\n//     close: 180.32\n//   },\n//   {\n//     time: '2018-12-03',\n//     open: 183.29,\n//     high: 183.5,\n//     low: 179.35,\n//     close: 181.74\n//   },\n//   {\n//     time: '2018-12-04',\n//     open: 181.06,\n//     high: 182.23,\n//     low: 174.55,\n//     close: 175.3\n//   },\n//   {\n//     time: '2018-12-06',\n//     open: 173.5,\n//     high: 176.04,\n//     low: 170.46,\n//     close: 175.96\n//   },\n//   {\n//     time: '2018-12-07',\n//     open: 175.35,\n//     high: 178.36,\n//     low: 172.24,\n//     close: 172.79\n//   },\n//   {\n//     time: '2018-12-10',\n//     open: 173.39,\n//     high: 173.99,\n//     low: 167.73,\n//     close: 171.69\n//   },\n//   {\n//     time: '2018-12-11',\n//     open: 174.3,\n//     high: 175.6,\n//     low: 171.24,\n//     close: 172.21\n//   },\n//   {\n//     time: '2018-12-12',\n//     open: 173.75,\n//     high: 176.87,\n//     low: 172.81,\n//     close: 174.21\n//   },\n//   {\n//     time: '2018-12-13',\n//     open: 174.31,\n//     high: 174.91,\n//     low: 172.07,\n//     close: 173.87\n//   },\n//   {\n//     time: '2018-12-14',\n//     open: 172.98,\n//     high: 175.14,\n//     low: 171.95,\n//     close: 172.29\n//   },\n//   {\n//     time: '2018-12-17',\n//     open: 171.51,\n//     high: 171.99,\n//     low: 166.93,\n//     close: 167.97\n//   },\n//   {\n//     time: '2018-12-18',\n//     open: 168.9,\n//     high: 171.95,\n//     low: 168.5,\n//     close: 170.04\n//   },\n//   {\n//     time: '2018-12-19',\n//     open: 170.92,\n//     high: 174.95,\n//     low: 166.77,\n//     close: 167.56\n//   },\n//   {\n//     time: '2018-12-20',\n//     open: 166.28,\n//     high: 167.31,\n//     low: 162.23,\n//     close: 164.16\n//   },\n//   {\n//     time: '2018-12-21',\n//     open: 162.81,\n//     high: 167.96,\n//     low: 160.17,\n//     close: 160.48\n//   },\n//   {\n//     time: '2018-12-24',\n//     open: 160.16,\n//     high: 161.4,\n//     low: 158.09,\n//     close: 158.14\n//   },\n//   {\n//     time: '2018-12-26',\n//     open: 159.46,\n//     high: 168.28,\n//     low: 159.44,\n//     close: 168.28\n//   },\n//   {\n//     time: '2018-12-27',\n//     open: 166.44,\n//     high: 170.46,\n//     low: 163.36,\n//     close: 170.32\n//   },\n//   {\n//     time: '2018-12-28',\n//     open: 171.22,\n//     high: 173.12,\n//     low: 168.6,\n//     close: 170.22\n//   },\n//   {\n//     time: '2018-12-31',\n//     open: 171.47,\n//     high: 173.24,\n//     low: 170.65,\n//     close: 171.82\n//   },\n//   {\n//     time: '2019-01-02',\n//     open: 169.71,\n//     high: 173.18,\n//     low: 169.05,\n//     close: 172.41\n//   },\n//   {\n//     time: '2019-01-03',\n//     open: 171.84,\n//     high: 171.84,\n//     low: 168.21,\n//     close: 168.61\n//   },\n//   {\n//     time: '2019-01-04',\n//     open: 170.18,\n//     high: 174.74,\n//     low: 169.52,\n//     close: 173.62\n//   },\n//   {\n//     time: '2019-01-07',\n//     open: 173.83,\n//     high: 178.18,\n//     low: 173.83,\n//     close: 177.04\n//   },\n//   {\n//     time: '2019-01-08',\n//     open: 178.57,\n//     high: 179.59,\n//     low: 175.61,\n//     close: 177.89\n//   },\n//   {\n//     time: '2019-01-09',\n//     open: 177.87,\n//     high: 181.27,\n//     low: 177.1,\n//     close: 179.73\n//   },\n//   {\n//     time: '2019-01-10',\n//     open: 178.03,\n//     high: 179.24,\n//     low: 176.34,\n//     close: 179.06\n//   },\n//   {\n//     time: '2019-01-11',\n//     open: 177.93,\n//     high: 180.26,\n//     low: 177.12,\n//     close: 179.41\n//   },\n//   {\n//     time: '2019-01-14',\n//     open: 177.59,\n//     high: 179.23,\n//     low: 176.9,\n//     close: 178.81\n//   },\n//   {\n//     time: '2019-01-15',\n//     open: 176.08,\n//     high: 177.82,\n//     low: 175.2,\n//     close: 176.47\n//   },\n//   {\n//     time: '2019-01-16',\n//     open: 177.09,\n//     high: 177.93,\n//     low: 175.86,\n//     close: 177.04\n//   },\n//   {\n//     time: '2019-01-17',\n//     open: 174.01,\n//     high: 175.46,\n//     low: 172.0,\n//     close: 174.87\n//   },\n//   {\n//     time: '2019-01-18',\n//     open: 176.98,\n//     high: 180.04,\n//     low: 176.18,\n//     close: 179.58\n//   },\n//   {\n//     time: '2019-01-22',\n//     open: 177.49,\n//     high: 178.6,\n//     low: 175.36,\n//     close: 177.11\n//   },\n//   {\n//     time: '2019-01-23',\n//     open: 176.59,\n//     high: 178.06,\n//     low: 174.53,\n//     close: 176.89\n//   },\n//   {\n//     time: '2019-01-24',\n//     open: 177.0,\n//     high: 177.53,\n//     low: 175.3,\n//     close: 177.29\n//   },\n//   {\n//     time: '2019-01-25',\n//     open: 179.78,\n//     high: 180.87,\n//     low: 178.61,\n//     close: 180.4\n//   },\n//   {\n//     time: '2019-01-28',\n//     open: 178.97,\n//     high: 179.99,\n//     low: 177.41,\n//     close: 179.83\n//   },\n//   {\n//     time: '2019-01-29',\n//     open: 178.96,\n//     high: 180.15,\n//     low: 178.09,\n//     close: 179.69\n//   },\n//   {\n//     time: '2019-01-30',\n//     open: 180.47,\n//     high: 184.2,\n//     low: 179.78,\n//     close: 182.18\n//   },\n//   {\n//     time: '2019-01-31',\n//     open: 181.5,\n//     high: 184.67,\n//     low: 181.06,\n//     close: 183.53\n//   },\n//   {\n//     time: '2019-02-01',\n//     open: 184.03,\n//     high: 185.15,\n//     low: 182.83,\n//     close: 184.37\n//   },\n//   {\n//     time: '2019-02-04',\n//     open: 184.3,\n//     high: 186.43,\n//     low: 183.84,\n//     close: 186.43\n//   },\n//   {\n//     time: '2019-02-05',\n//     open: 186.89,\n//     high: 186.99,\n//     low: 184.69,\n//     close: 186.39\n//   },\n//   {\n//     time: '2019-02-06',\n//     open: 186.69,\n//     high: 186.69,\n//     low: 184.06,\n//     close: 184.72\n//   },\n//   {\n//     time: '2019-02-07',\n//     open: 183.74,\n//     high: 184.92,\n//     low: 182.45,\n//     close: 184.07\n//   },\n//   {\n//     time: '2019-02-08',\n//     open: 183.05,\n//     high: 184.58,\n//     low: 182.72,\n//     close: 184.54\n//   },\n//   {\n//     time: '2019-02-11',\n//     open: 185.0,\n//     high: 185.42,\n//     low: 182.75,\n//     close: 182.92\n//   },\n//   {\n//     time: '2019-02-12',\n//     open: 183.84,\n//     high: 186.4,\n//     low: 183.52,\n//     close: 185.52\n//   },\n//   {\n//     time: '2019-02-13',\n//     open: 186.3,\n//     high: 188.68,\n//     low: 185.92,\n//     close: 188.41\n//   },\n//   {\n//     time: '2019-02-14',\n//     open: 187.5,\n//     high: 188.93,\n//     low: 186.0,\n//     close: 187.71\n//   },\n//   {\n//     time: '2019-02-15',\n//     open: 189.87,\n//     high: 192.62,\n//     low: 189.05,\n//     close: 192.39\n//   },\n//   {\n//     time: '2019-02-19',\n//     open: 191.71,\n//     high: 193.19,\n//     low: 191.28,\n//     close: 192.33\n//   },\n//   {\n//     time: '2019-02-20',\n//     open: 192.39,\n//     high: 192.4,\n//     low: 191.11,\n//     close: 191.85\n//   },\n//   {\n//     time: '2019-02-21',\n//     open: 191.85,\n//     high: 192.37,\n//     low: 190.61,\n//     close: 191.82\n//   },\n//   {\n//     time: '2019-02-22',\n//     open: 191.69,\n//     high: 192.54,\n//     low: 191.62,\n//     close: 192.39\n//   },\n//   {\n//     time: '2019-02-25',\n//     open: 192.75,\n//     high: 193.42,\n//     low: 189.96,\n//     close: 189.98\n//   },\n//   {\n//     time: '2019-02-26',\n//     open: 185.59,\n//     high: 188.47,\n//     low: 182.8,\n//     close: 188.3\n//   },\n//   {\n//     time: '2019-02-27',\n//     open: 187.9,\n//     high: 188.5,\n//     low: 183.21,\n//     close: 183.67\n//   },\n//   {\n//     time: '2019-02-28',\n//     open: 183.6,\n//     high: 185.19,\n//     low: 183.11,\n//     close: 185.14\n//   },\n//   {\n//     time: '2019-03-01',\n//     open: 185.82,\n//     high: 186.56,\n//     low: 182.86,\n//     close: 185.17\n//   },\n//   {\n//     time: '2019-03-04',\n//     open: 186.2,\n//     high: 186.24,\n//     low: 182.1,\n//     close: 183.81\n//   },\n//   {\n//     time: '2019-03-05',\n//     open: 184.24,\n//     high: 185.12,\n//     low: 183.25,\n//     close: 184.0\n//   },\n//   {\n//     time: '2019-03-06',\n//     open: 184.53,\n//     high: 184.97,\n//     low: 183.84,\n//     close: 184.45\n//   },\n//   {\n//     time: '2019-03-07',\n//     open: 184.39,\n//     high: 184.62,\n//     low: 181.58,\n//     close: 182.51\n//   },\n//   {\n//     time: '2019-03-08',\n//     open: 181.49,\n//     high: 181.91,\n//     low: 179.52,\n//     close: 181.23\n//   },\n//   {\n//     time: '2019-03-11',\n//     open: 182.0,\n//     high: 183.2,\n//     low: 181.2,\n//     close: 182.44\n//   },\n//   {\n//     time: '2019-03-12',\n//     open: 183.43,\n//     high: 184.27,\n//     low: 182.33,\n//     close: 184.0\n//   },\n//   {\n//     time: '2019-03-13',\n//     open: 183.24,\n//     high: 183.78,\n//     low: 181.08,\n//     close: 181.14\n//   },\n//   {\n//     time: '2019-03-14',\n//     open: 181.28,\n//     high: 181.74,\n//     low: 180.5,\n//     close: 181.61\n//   },\n//   {\n//     time: '2019-03-15',\n//     open: 182.3,\n//     high: 182.49,\n//     low: 179.57,\n//     close: 182.23\n//   },\n//   {\n//     time: '2019-03-18',\n//     open: 182.53,\n//     high: 183.48,\n//     low: 182.33,\n//     close: 183.42\n//   },\n//   {\n//     time: '2019-03-19',\n//     open: 184.19,\n//     high: 185.82,\n//     low: 183.48,\n//     close: 184.13\n//   },\n//   {\n//     time: '2019-03-20',\n//     open: 184.3,\n//     high: 187.12,\n//     low: 183.43,\n//     close: 186.1\n//   },\n//   {\n//     time: '2019-03-21',\n//     open: 185.5,\n//     high: 190.0,\n//     low: 185.5,\n//     close: 189.97\n//   },\n//   {\n//     time: '2019-03-22',\n//     open: 189.31,\n//     high: 192.05,\n//     low: 188.67,\n//     close: 188.75\n//   },\n//   {\n//     time: '2019-03-25',\n//     open: 188.75,\n//     high: 191.71,\n//     low: 188.51,\n//     close: 189.68\n//   },\n//   {\n//     time: '2019-03-26',\n//     open: 190.69,\n//     high: 192.19,\n//     low: 188.74,\n//     close: 189.34\n//   },\n//   {\n//     time: '2019-03-27',\n//     open: 189.65,\n//     high: 191.61,\n//     low: 188.39,\n//     close: 189.25\n//   },\n//   {\n//     time: '2019-03-28',\n//     open: 189.91,\n//     high: 191.4,\n//     low: 189.16,\n//     close: 190.06\n//   },\n//   {\n//     time: '2019-03-29',\n//     open: 190.85,\n//     high: 192.04,\n//     low: 190.14,\n//     close: 191.89\n//   },\n//   {\n//     time: '2019-04-01',\n//     open: 192.99,\n//     high: 195.9,\n//     low: 192.85,\n//     close: 195.64\n//   },\n//   {\n//     time: '2019-04-02',\n//     open: 195.5,\n//     high: 195.5,\n//     low: 194.01,\n//     close: 194.31\n//   },\n//   {\n//     time: '2019-04-03',\n//     open: 194.98,\n//     high: 198.78,\n//     low: 194.11,\n//     close: 198.61\n//   },\n//   {\n//     time: '2019-04-04',\n//     open: 199.0,\n//     high: 200.49,\n//     low: 198.02,\n//     close: 200.45\n//   },\n//   {\n//     time: '2019-04-05',\n//     open: 200.86,\n//     high: 203.13,\n//     low: 200.61,\n//     close: 202.06\n//   },\n//   {\n//     time: '2019-04-08',\n//     open: 201.37,\n//     high: 203.79,\n//     low: 201.24,\n//     close: 203.55\n//   },\n//   {\n//     time: '2019-04-09',\n//     open: 202.26,\n//     high: 202.71,\n//     low: 200.46,\n//     close: 200.9\n//   },\n//   {\n//     time: '2019-04-10',\n//     open: 201.26,\n//     high: 201.6,\n//     low: 198.02,\n//     close: 199.43\n//   },\n//   {\n//     time: '2019-04-11',\n//     open: 199.9,\n//     high: 201.5,\n//     low: 199.03,\n//     close: 201.48\n//   },\n//   {\n//     time: '2019-04-12',\n//     open: 202.13,\n//     high: 204.26,\n//     low: 202.13,\n//     close: 203.85\n//   },\n//   {\n//     time: '2019-04-15',\n//     open: 204.16,\n//     high: 205.14,\n//     low: 203.4,\n//     close: 204.86\n//   },\n//   {\n//     time: '2019-04-16',\n//     open: 205.25,\n//     high: 205.99,\n//     low: 204.29,\n//     close: 204.47\n//   },\n//   {\n//     time: '2019-04-17',\n//     open: 205.34,\n//     high: 206.84,\n//     low: 205.32,\n//     close: 206.55\n//   },\n//   {\n//     time: '2019-04-18',\n//     open: 206.02,\n//     high: 207.78,\n//     low: 205.1,\n//     close: 205.66\n//   },\n//   {\n//     time: '2019-04-22',\n//     open: 204.11,\n//     high: 206.25,\n//     low: 204.0,\n//     close: 204.78\n//   },\n//   {\n//     time: '2019-04-23',\n//     open: 205.14,\n//     high: 207.33,\n//     low: 203.43,\n//     close: 206.05\n//   },\n//   {\n//     time: '2019-04-24',\n//     open: 206.16,\n//     high: 208.29,\n//     low: 205.54,\n//     close: 206.72\n//   },\n//   {\n//     time: '2019-04-25',\n//     open: 206.01,\n//     high: 207.72,\n//     low: 205.06,\n//     close: 206.5\n//   },\n//   {\n//     time: '2019-04-26',\n//     open: 205.88,\n//     high: 206.14,\n//     low: 203.34,\n//     close: 203.61\n//   },\n//   {\n//     time: '2019-04-29',\n//     open: 203.31,\n//     high: 203.8,\n//     low: 200.34,\n//     close: 202.16\n//   },\n//   {\n//     time: '2019-04-30',\n//     open: 201.55,\n//     high: 203.75,\n//     low: 200.79,\n//     close: 203.7\n//   },\n//   {\n//     time: '2019-05-01',\n//     open: 203.2,\n//     high: 203.52,\n//     low: 198.66,\n//     close: 198.8\n//   },\n//   {\n//     time: '2019-05-02',\n//     open: 199.3,\n//     high: 201.06,\n//     low: 198.8,\n//     close: 201.01\n//   },\n//   {\n//     time: '2019-05-03',\n//     open: 202.0,\n//     high: 202.31,\n//     low: 200.32,\n//     close: 200.56\n//   },\n//   {\n//     time: '2019-05-06',\n//     open: 198.74,\n//     high: 199.93,\n//     low: 198.31,\n//     close: 199.63\n//   },\n//   {\n//     time: '2019-05-07',\n//     open: 196.75,\n//     high: 197.65,\n//     low: 192.96,\n//     close: 194.77\n//   },\n//   {\n//     time: '2019-05-08',\n//     open: 194.49,\n//     high: 196.61,\n//     low: 193.68,\n//     close: 195.17\n//   },\n//   {\n//     time: '2019-05-09',\n//     open: 193.31,\n//     high: 195.08,\n//     low: 191.59,\n//     close: 194.58\n//   },\n//   {\n//     time: '2019-05-10',\n//     open: 193.21,\n//     high: 195.49,\n//     low: 190.01,\n//     close: 194.58\n//   },\n//   {\n//     time: '2019-05-13',\n//     open: 191.0,\n//     high: 191.66,\n//     low: 189.14,\n//     close: 190.34\n//   },\n//   {\n//     time: '2019-05-14',\n//     open: 190.5,\n//     high: 192.76,\n//     low: 190.01,\n//     close: 191.62\n//   },\n//   {\n//     time: '2019-05-15',\n//     open: 190.81,\n//     high: 192.81,\n//     low: 190.27,\n//     close: 191.76\n//   },\n//   {\n//     time: '2019-05-16',\n//     open: 192.47,\n//     high: 194.96,\n//     low: 192.2,\n//     close: 192.38\n//   },\n//   {\n//     time: '2019-05-17',\n//     open: 190.86,\n//     high: 194.5,\n//     low: 190.75,\n//     close: 192.58\n//   },\n//   {\n//     time: '2019-05-20',\n//     open: 191.13,\n//     high: 192.86,\n//     low: 190.61,\n//     close: 190.95\n//   },\n//   {\n//     time: '2019-05-21',\n//     open: 187.13,\n//     high: 192.52,\n//     low: 186.34,\n//     close: 191.45\n//   },\n//   {\n//     time: '2019-05-22',\n//     open: 190.49,\n//     high: 192.22,\n//     low: 188.05,\n//     close: 188.91\n//   },\n//   {\n//     time: '2019-05-23',\n//     open: 188.45,\n//     high: 192.54,\n//     low: 186.27,\n//     close: 192.0\n//   },\n//   {\n//     time: '2019-05-24',\n//     open: 192.54,\n//     high: 193.86,\n//     low: 190.41,\n//     close: 193.59\n//   }\n// ];\n\n\n\n\n","import React, { Component } from 'react';\nimport {connect} from 'react-redux'\n\nimport Chart from '@mj221/kaktana-react-lightweight-charts-apo-fork'\n\nimport {lightChartOptions} from './LightChart.config.js'\n\n\nimport Loader from './Loader'\nimport poiLogo from '../assets/poi-logo.png'\n\nimport {\n\tpriceChartLoadedSelector,\n\tpriceChartSelector\n} from '../store/selectors'\n\n// import { json, checkStatus } from \"../utils/utils\"\n\nconst priceSymbol = priceChange =>{\n\tlet output\n\tif(priceChange === '+'){\n\t\toutput = <span className=\"text-success\">&#9650;</span>\n\t}else{\n\t\toutput = <span className=\"text-danger\">&#9660;</span>\n\t}\n\treturn output\n}\n\nclass PriceChart extends Component{\n\t// constructor(props) {\n //    super(props)\n //    this.state = {\n //      OneHourData: '',\n //    }\n //  }\n\t// componentDidMount(){\n\t// \tconst getOneHourData = () => {\n\t//     let url = `https://api.binance.com/api/v3/klines?symbol=ETHUSDT&interval=1h&limit=1000`;\n\t//     fetch(url, {\n\t//       method: \"GET\",\n\t//       mode: \"cors\",\n\t//     })\n\t//       .then(checkStatus)\n\t//       .then(json)\n\t//       .then((response) => {\n\t//         const cData = response.map((d) => {\n\t//           return {\n\t//             time: d[0] / 1000,\n\t//             open: parseFloat(d[1]),\n\t//             high: parseFloat(d[2]),\n\t//             low: parseFloat(d[3]),\n\t//             close: parseFloat(d[4]),\n\t//           };\n\t//         });\n\t//         let temp = [{\n\t//         \tdata: cData\n\t//         }]\n\t//         // console.log(temp)\n\t//         this.setState({OneHourData: temp})\n\t        \n\t//       })\n\t//       .catch((error) => {\n\t//         console.log(error);\n\t//       });\n\t//   };\n\t//   getOneHourData()\n\t// }\n\n\tshowPrice = priceChart =>{\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<img src={poiLogo} height=\"21\" style={{marginRight: '10px'}} alt=\"\" />\n\t\t\t\tPOI/ETH &nbsp; {priceSymbol(priceChart.lastPriceChange)} &nbsp; {priceChart.lastPrice}\n\t\t\t</span>\n\t\t)\n\t}\n\n  showLightChart = (props) =>{\n  \tconst {priceChart} = props\n\n  \tconst overwriteOptions = {\n\t    priceFormat: {\n\t        type: 'price',\n\t        precision: 5,\n\t        minMove: 0.00001,\n\t    }\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"price-chart\">\n\t\t\t\t<Chart\n\t\t\t\t\tlegend= \"POI / ETH, GiX, [1H]\"\n\t\t\t\t\toptions={lightChartOptions} \n\t\t\t\t\tcandlestickSeries={priceChart.series} \n\t\t\t\t\t// candlestickSeries = {this.state.OneHourData}\n\t\t\t\t\tautoWidth \n\t\t\t\t\tautoHeight \n\t\t\t\t\tdarkTheme\n\t\t\t\t\tapplyOptions = {overwriteOptions}\n\t\t\t\t\talwaysClean = {false}\n\t\t\t\t/>\n\t\t\t</div> \n\t\t)\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<div className=\"card bg-dark text-white\">\n\t\t\t\t<div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n\t\t\t\t\t{/*<span>Price Chart</span>*/}\n\t\t\t\t\t{this.showPrice(this.props.priceChart)}\n          {this.props.priceChartLoaded\n            ?<span></span>\n            :<Loader type=\"header\"/>\n          }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body p-0 chart\">\n\n\t\t\t\t\t\t<div className=\"p-0\" ref={this.myRef} id = \"price-chart\" ></div>\n\n\t          {this.props.priceChartLoaded\n\t          \t?this.showLightChart(this.props)\n\t          \t:<div></div>\n\t          }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction mapStateToProps(state){\n\treturn{\n\t\tpriceChartLoaded: priceChartLoadedSelector(state),\n\t\tpriceChart: priceChartSelector(state)\n\t}\n}\nexport default connect(mapStateToProps)(PriceChart);","import React, { Component} from 'react'\nimport {connect} from 'react-redux'\n\nimport {\n\tloadBalances, \n\tdepositEth, \n\tloadAccount, \n\twithdrawEth,\n\tdepositToken,\n\twithdrawToken,\n}from '../store/interactions'\n\nimport Loader from './Loader'\n\nimport {Tabs, Tab} from 'react-bootstrap'\n\nimport {\n\taccountSelector,\n\ttokenSelector,\n\texchangeSelector,\n\tweb3Selector,\n\tethBalanceSelector,\n\ttokenBalanceSelector,\n\texchangeEthBalanceSelector,\n\texchangeTokenBalanceSelector,\n\tbalancesLoadingSelector,\n\tethDepositAmountSelector,\n\tethWithdrawAmountSelector,\n\ttokenDepositAmountSelector,\n\ttokenWithdrawAmountSelector,\n} from '../store/selectors'\n\nimport {\n\tethDepositAmountChanged,\n\tbalancesLoading, \n\tethWithdrawAmountChanged,\n\ttokenDepositAmountChanged,\n\ttokenWithdrawAmountChanged\n} from '../store/actions'\n\n\nconst configMetaMask = async (dispatch) => {\n  if(window.ethereum){\n    try{\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n      if(accounts !== null){\n        await loadAccount(accounts[0], dispatch)\n      }\n    }catch (err){\n      if (err.code === 4001){\n        console.log(\"User denied MetaMask. Please connect MetaMask again.\")\n      }else{\n        console.log(err)\n      }\n    }\n    \n  }else{\n    window.alert(\"Non-Ethereum browser detected. Try using MetaMask.\")\n  }\n}\nclass Balance extends Component{\n\tconstructor(props) {\n    super(props)\n    this.state = {\n      ethDepositAmount: '',\n      ethWithdrawAmount: '',\n      tokenDepositAmount: '',\n      tokenWithdrawAmount: ''\n    }\n  }\n\tasync componentDidMount(){\n\t\tconst {exchange, dispatch} = this.props\n \t\tthis.loadBlockchainData()\n\t\twindow.ethereum.on('accountsChanged', (accounts) => {\n      if (accounts[0] == null){\n        this.setState({ethDepositAmount: ''})\n        this.setState({ethWithdrawAmount: ''})\n        this.setState({tokenDepositAmount: ''})\n        this.setState({tokenWithdrawAmount: ''})\n        dispatch(ethDepositAmountChanged(this.state.ethDepositAmount))\n        dispatch(ethWithdrawAmountChanged(this.state.ethWithdrawAmount))\n        dispatch(tokenDepositAmountChanged(this.state.tokenDepositAmount))\n        dispatch(tokenWithdrawAmountChanged(this.state.tokenWithdrawAmount))\n      }\n  \t\tdispatch(balancesLoading())\n      this.loadBlockchainData()\n      \n    });\n    await exchange.events.Deposit({}, (error, event) =>{\n    \tdispatch(balancesLoading())\n\t\t\tthis.loadBlockchainData()\n\t\t})\n\t\tawait exchange.events.Withdraw({}, (error, event) =>{\n\t\t\tdispatch(balancesLoading())\n\t\t\tthis.loadBlockchainData()\n\t\t})\n\n\t\tawait exchange.events.Trade({}, (error, event) =>{\n\t\t\tdispatch(balancesLoading())\n\t\t\tthis.loadBlockchainData()\n\t\t})\n    \n\t}\n\n\tloadBlockchainData(){\n\t\tconst interval = setInterval(async () => {\n\t\t\tconst {dispatch, web3, exchange, token, account} = this.props\n\t\t\t\n\t\t\t\tclearInterval(interval)\n\t\t\t\tawait loadBalances(web3, exchange, token, account, dispatch)\n\t\t\t\treturn;\n\n\t\t}, 1000);\n\t}\n\n\tshowForm = (props) =>{\n\t\tconst{\n\t\t\tethBalance,\n\t\t\ttokenBalance,\n\t\t\texchangeEthBalance,\n\t\t\texchangeTokenBalance,\n\t\t\tdispatch,\n\t\t\tethDepositAmount,\n\t\t\tethWithdrawAmount,\n\t\t\ttokenDepositAmount,\n\t\t\ttokenWithdrawAmount,\n\t\t\texchange,\n\t\t\ttoken,\n\t\t\taccount,\n\t\t\tweb3\n\t\t} = props\n\n\t\treturn (\n\t\t\t<Tabs fill justify defaultActiveKey=\"deposit\" className=\"bg-dark text-white\">\n\t\t{/*DEPOSITS*/}\n\t\t\t\t<Tab style={{ textAlign: \"center\" }} tabClassName=\"balance-tab-config\" eventKey=\"deposit\" title=\"Deposit\" className=\"bg-dark text-white\">\n\t\t\t\t\t<table className=\"table table-dark table-sm small table-hover\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Currency</th>\n\t\t\t\t\t\t\t\t<th>Wallet</th>\n\t\t\t\t\t\t\t\t<th>Exchange</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>ETH</td>\n\t\t\t\t\t\t\t\t<td>{ethBalance}</td>\n\t\t\t\t\t\t\t\t<td>{exchangeEthBalance}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>POI</td>\n\t\t\t\t\t\t\t\t<td>{tokenBalance}</td>\n\t\t\t\t\t\t\t\t<td>{exchangeTokenBalance}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\n\t\t\t\t{/*ETH DEPOSITS*/}\n\t\t\t\t\t<form className=\"row\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (ethDepositAmount !== null) {\n\t\t\t\t\t\t\tawait depositEth(exchange, web3, ethDepositAmount, account, dispatch)\n\t\t\t\t\t\t\tdispatch(ethDepositAmountChanged(this.state.ethDepositAmount))\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"col-sm d-flex\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder = \"ETH Amount\"\n\t\t\t\t\t\t\t\tvalue={this.state.ethDepositAmount}\n\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          \tthis.setState({ethDepositAmount: event.target.value})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(ethDepositAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</input>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDeposit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<hr/>\n\t\t\t\t{/*TOKEN DEPOSITS*/}\n\n\t\t\t\t\t<form className=\"row\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tawait depositToken(exchange, web3, tokenDepositAmount, account, token, dispatch)\n\t\t\t\t\t\tdispatch(tokenDepositAmountChanged(this.state.tokenDepositAmount))\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"col-sm d-flex\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder = \"POI Amount\"\n\t\t\t\t\t\t\t\tvalue= {this.state.tokenDepositAmount}\n\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          \tthis.setState({tokenDepositAmount: event.target.value})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(tokenDepositAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</input>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDeposit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\n\t\t\t\t</Tab>\n\t\t\t{/*------------------------------------------------*/}\n\t\t{/*WITHDRAWALS*/}\n\t\t\t\t<Tab style={{ textAlign: \"center\" }} tabClassName=\"balance-tab-config\" eventKey=\"withdraw\" title=\"Withdraw\">\n\t\t\t\t\t<table className=\"table table-dark table-sm small table-hover\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Currency</th>\n\t\t\t\t\t\t\t\t<th>Wallet</th>\n\t\t\t\t\t\t\t\t<th>Exchange</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>ETH</td>\n\t\t\t\t\t\t\t\t<td>{ethBalance}</td>\n\t\t\t\t\t\t\t\t<td>{exchangeEthBalance}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>POI</td>\n\t\t\t\t\t\t\t\t<td>{tokenBalance}</td>\n\t\t\t\t\t\t\t\t<td>{exchangeTokenBalance}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t{/*ETH WITHDRAWALS*/}\n\t\t\t\t\t<form className=\"row\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tawait withdrawEth(exchange, web3, ethWithdrawAmount, account, dispatch)\n\t\t\t\t\t\tdispatch(ethWithdrawAmountChanged(this.state.ethWithdrawAmount))\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"col-sm d-flex\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder = \"ETH Amount\"\n\t\t\t\t\t\t\t\tvalue={this.state.ethWithdrawAmount}\n\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          \tthis.setState({ethWithdrawAmount: event.target.value})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(ethWithdrawAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</input>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm balance-button\"\n\t\t\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tWithdraw\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr/>\n\n\t\t\t\t\t<form className=\"row\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tawait withdrawToken(exchange, web3, tokenWithdrawAmount, account, token, dispatch)\n\t\t\t\t\t\tdispatch(tokenWithdrawAmountChanged(this.state.tokenWithdrawAmount))\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder = \"POI Amount\"\n\t\t\t\t\t\t\t\tvalue= {this.state.tokenWithdrawAmount}\n\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          \tthis.setState({tokenWithdrawAmount: event.target.value})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(tokenWithdrawAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</input>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm balance-button\"\n\t\t\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tWithdraw\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n\t\t\t\t</Tab>\n\t\t\t</Tabs>\n\t\t)\n\t}\n\n\trender(){\n\n\t\treturn (\n\t\t\t<div className=\"card bg-dark text-white\">\n\t\t\t\t<div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n\t\t\t\t\t<span>Balance</span>\n          {!this.props.balancesLoading\n            ?<span></span>\n            :<div>{this.props.account !== \"\"?<Loader type=\"header\"/>:<div></div>}</div>\n          }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t{/*{!this.props.balancesLoading\n\t\t\t\t\t\t?showForm(this.props)\n\t\t\t\t\t\t:<span>Account Loading</span>\n\t\t\t\t\t}*/}\n\t\t\t\t\t{this.showForm(this.props)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nfunction mapStateToProps(state){\n  return {\n  \taccount: accountSelector(state),\n  \ttoken: tokenSelector(state),\n  \texchange: exchangeSelector(state),\n  \tweb3: web3Selector(state),\n  \tethBalance: ethBalanceSelector(state),\n  \ttokenBalance: tokenBalanceSelector(state),\n  \texchangeEthBalance: exchangeEthBalanceSelector(state),\n  \texchangeTokenBalance: exchangeTokenBalanceSelector(state),\n  \tbalancesLoading: balancesLoadingSelector(state),\n  \tethDepositAmount: ethDepositAmountSelector(state),\n  \tethWithdrawAmount: ethWithdrawAmountSelector(state),\n  \ttokenDepositAmount: tokenDepositAmountSelector(state),\n  \ttokenWithdrawAmount: tokenWithdrawAmountSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(Balance);\n\n\n","import React, { Component} from 'react'\nimport {connect} from 'react-redux'\n\nimport {\n\tloadAccount,\n\tmakeBuyOrder,\n\tmakeSellOrder\n}from '../store/interactions'\n\nimport Loader from './Loader'\n\nimport {Tabs, Tab} from 'react-bootstrap'\n\nimport {\n\taccountSelector,\n\ttokenSelector,\n\texchangeSelector,\n\tweb3Selector,\n\tbuyOrderMakingSelector,\n\tsellOrderMakingSelector,\n\tbuyOrderSelector,\n\tsellOrderSelector,\n\tbuyOrderPriceSelector,\n\tbuyOrderAmountSelector,\n\tsellOrderAmountSelector,\n\tsellOrderPriceSelector\n} from '../store/selectors'\n\nimport {\n\tbuyOrderAmountChanged,\n\tbuyOrderPriceChanged,\n\tsellOrderAmountChanged,\n\tsellOrderPriceChanged,\n\tbalancesLoading\n} from '../store/actions'\n\nimport {\n\tloadBalances\n}from '../store/interactions'\n\nconst configMetaMask = async (dispatch) => {\n  if(window.ethereum){\n    try{\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n      if(accounts !== null){\n        await loadAccount(accounts[0], dispatch)\n      }\n    }catch (err){\n      if (err.code === 4001){\n        console.log(\"User denied MetaMask. Please connect MetaMask again.\")\n      }else{\n        console.log(err)\n      }\n    }\n    \n  }else{\n    window.alert(\"Non-Ethereum browser detected. Try using MetaMask.\")\n  }\n}\nclass NewOrder extends Component{\n\tconstructor(props) {\n    super(props)\n    this.state = {\n      buyAmountValue: \"\",\n      buyPriceValue: \"\",\n      sellAmountValue: \"\",\n      sellPriceValue: \"\"\n    }\n  }\n  async componentDidMount(){\n\t\tconst {exchange, dispatch} = this.props\n\n\t\tawait exchange.events.Order({}, (error, event) =>{\n\t\t\tdispatch(balancesLoading())\n\t\t\tthis.loadBlockchainData()\n\t\t}) \n\t}\n\tloadBlockchainData(){\n\t\tconst interval = setInterval(async () => {\n\t\t\n\t\t\tclearInterval(interval)\n\t\t\tconst {dispatch, web3, exchange, token, account} = this.props\n\t\t\tawait loadBalances(web3, exchange, token, account, dispatch)\n\t\t\treturn;\n\t\t\t\n\t\t}, 1000);\n\t}\n\tshowForm = (props) =>{\n\t\tconst{\n\t\t\texchange,\n\t\t\ttoken,\n\t\t\tweb3,\n\t\t\taccount,\n\t\t\tdispatch,\n\t\t\tbuyOrder,\n\t\t\tsellOrder,\n\t\t\tbuyOrderPrice,\n\t\t\tbuyOrderAmount,\n\t\t\tsellOrderPrice,\n\t\t\tsellOrderAmount\n\t\t} = props\n\n\t\treturn (\n\t\t\t<Tabs fill justify defaultActiveKey=\"buy\" className=\"bg-dark text-white\">\n\n\t\t\t\t<Tab tabClassName=\"newOrder-tab-config\" eventKey=\"buy\" title=\"Buy\" className=\"bg-dark text-white\">\n\t\t\t\t\t<form className=\"row\" id=\"buyForm\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (buyOrder !== null){\n\t\t\t\t\t\t\tawait makeBuyOrder(exchange, token, web3, buyOrder, account, dispatch)\n\t\t\t\t\t\t\tdispatch(buyOrderAmountChanged(this.state.buyAmountValue))\n\t\t\t\t\t\t\tdispatch(buyOrderPriceChanged(this.state.buyPriceValue))\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"form-group small mb-2 mt-1\">\n\t\t\t\t\t\t\t<label>Buy Amount (POI)</label>\n\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Buy Amount\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.buyAmountValue}\n\t\t\t\t\t\t\t\t\tmaxLength=\"8\"\n\t\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            this.setState({ buyAmountValue: event.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(buyOrderAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group small mb-3\">\n\t\t\t\t\t\t\t<label>Buy Price</label>\n\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Buy Price\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.buyPriceValue}\n\t\t\t\t\t\t\t\t\tmaxLength=\"8\"\n\t\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            this.setState({ buyPriceValue: event.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(buyOrderPriceChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<table className=\"table table-dark table-sm small mb-1\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"left\"}}>Total</td>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"center\"}}>{Math.round(buyOrderAmount * buyOrderPrice * (10**5)) / (10**5)}</td>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"right\"}}>ETH</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm mb-0\"\n\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBuy\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n\n\t\t\t\t</Tab>\n\t\t\t{/*------------------------------------------------*/}\n\t\t\t\t<Tab tabClassName=\"newOrder-tab-config\" eventKey=\"sell\" title=\"Sell\">\n\t\t\t\t\t<form className=\"row\" id=\"sellForm\" onSubmit = {async (e) => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (sellOrder !== null){\n\t\t\t\t\t\t\tawait makeSellOrder(exchange, token, web3, sellOrder, account, dispatch)\n\t\t\t\t\t\t\tdispatch(sellOrderAmountChanged(this.state.sellAmountValue))\n\t\t\t\t\t\t\tdispatch(sellOrderPriceChanged(this.state.sellPriceValue))\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"form-group small mb-2 mt-1\">\n\t\t\t\t\t\t\t<label>Sell Amount (POI)</label>\n\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Sell Amount\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.sellAmountValue}\n\t\t\t\t\t\t\t\t\tmaxLength=\"8\"\n\t\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            this.setState({ sellAmountValue: event.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(sellOrderAmountChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group small mb-3\">\n\t\t\t\t\t\t\t<label>Sell Price</label>\n\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Sell Price\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.sellPriceValue}\n\t\t\t\t\t\t\t\t\tmaxLength=\"8\"\n\t\t\t\t\t\t\t\t\tonChange={(event) => {if (isNaN(Number(event.target.value))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            return;\n\t\t\t\t\t\t\t\t\t\t\t\t\t          } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t            this.setState({ sellPriceValue: event.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t            dispatch(sellOrderPriceChanged(event.target.value))\n\t\t\t\t\t\t\t\t\t\t\t\t\t          }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-sm bg-dark text-white\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<table className=\"table table-dark table-sm small mb-1\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"left\"}}>Total</td>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"center\"}}>{Math.round(sellOrderAmount * sellOrderPrice * (10**5)) / (10**5)}</td>\n\t\t\t\t\t\t\t\t\t<td style={{textAlign:\"right\"}}>ETH</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tonMouseOver={(event)=>{event.target.style.borderColor = 'white'}} \n\t\t\t\t\t\t\tonMouseLeave={(event) => {event.target.style.borderColor= 'transparent'}}\n\t\t\t\t\t\t\tstyle={{backgroundColor: '#1d1d1d', color:'white'}} \n\t\t\t\t\t\t\ttype=\"submit\" className=\"btn btn-block btn-sm\"\n\t\t\t\t\t\t\tonClick={() => account === '' ? configMetaMask(dispatch) : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSell\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</Tab>\n\t\t\t</Tabs>\n\t\t)\n\t}\n\trender(){\n\n\t\treturn (\n\t\t\t<div className=\"card bg-dark text-white\">\n\t\t\t\t<div className=\"card-header d-flex align-items-center\" style={{justifyContent: 'space-between'}}>\n\t\t\t\t\t<span>New Order</span>\n          {!this.props.buyOrderMaking && !this.props.sellOrderMaking\n            ?<span></span>\n            :<Loader type=\"header\"/>\n          }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t{this.showForm(this.props)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nfunction mapStateToProps(state){\n  return {\n  \taccount: accountSelector(state),\n  \ttoken: tokenSelector(state),\n  \texchange: exchangeSelector(state),\n  \tweb3: web3Selector(state),\n  \tbuyOrderMaking: buyOrderMakingSelector(state),\n  \tsellOrderMaking: sellOrderMakingSelector(state),\n  \tbuyOrder: buyOrderSelector(state),\n  \tsellOrder: sellOrderSelector(state),\n  \tbuyOrderPrice: buyOrderPriceSelector(state),\n  \tbuyOrderAmount: buyOrderAmountSelector(state),\n  \tsellOrderPrice: sellOrderPriceSelector(state),\n  \tsellOrderAmount: sellOrderAmountSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(NewOrder);\n\n\n","import React from 'react';\nimport {\n  MDBFooter,\n  MDBContainer,\n  MDBIcon,\n} from 'mdb-react-ui-kit';\n\nexport default function App() {\n  return (\n    <div>\n      <MDBFooter className='text-center text-white'>\n        <MDBContainer className='mt-4'>\n       {/*   <section className='mt-4'>\n\n          </section>*/}\n          <section className='mt-4'>\n    \n            <a className='btn btn-outline-light btn-floating m-1' href='https://twitter.com/mjkid221' role='button' target=\"_blank\" rel=\"noopener noreferrer\">\n              <MDBIcon fab icon='twitter' />\n            </a>\n\n\n            <a className='btn btn-outline-light btn-floating m-1' href='https://www.linkedin.com/in/minjae-mj-lee-23695918b/' target=\"_blank\" role='button' rel=\"noopener noreferrer\">\n              <MDBIcon fab icon='linkedin-in' />\n            </a>\n\n            <a className='btn btn-outline-light btn-floating m-1' href='https://github.com/mj221' role='button' target=\"_blank\" rel=\"noopener noreferrer\">\n              <MDBIcon fab icon='github' />\n            </a>\n          </section>\n\n\n       \n        </MDBContainer>\n\n        <div className='text-center p-2' style={{ backgroundColor: '#1d1d1d' }}>\n          <span className=\"text-muted\">© {new Date().getFullYear()} Copyright&nbsp;|&nbsp;</span>\n          <a className='text-white' href='.' rel=\"noopener noreferrer\" style={{textDecoration: 'none'}}>\n            GiX Exchange\n          </a>\n        </div>\n      </MDBFooter>\n    </div>\n  );\n}","import React, { Component } from 'react';\nimport {connect} from 'react-redux'  // required to connect redux and app. Go to bottom page for config.\n\nimport {loadAllOrders, subscribeToEvents} from '../store/interactions'\nimport {exchangeSelector} from '../store/selectors'\n\nimport Trades from './Trades'\nimport OrderBook from './OrderBook'\nimport MyTransactions from './MyTransactions'\nimport PriceChart from './PriceChart'\nimport Balance from './Balance'\nimport NewOrder from './NewOrder'\n\nimport Footer from './Footer'\n\nclass Content extends Component {\n  componentDidMount(){\n    this.loadBlockchainData(this.props)\n  }\n  async loadBlockchainData(props){\n    const {exchange, dispatch} = props\n\n    await loadAllOrders(exchange, dispatch)\n    await subscribeToEvents(exchange, dispatch)\n  }\n  render(){\n    // return(\n    //   <div>\n    //     <div className=\"content\"> \n    //       {/*--------------------------------*/}\n    //       <div className=\"vertical-split\">\n\n    //         <Balance/>\n\n    //         <NewOrder/>\n\n    //       </div>\n    //       {/*--------------------------------*/}\n    //       <div className=\"vertical\">\n    //         <OrderBook />\n    //       </div>\n    //       {/*--------------------------------*/}\n    //       <div className=\"vertical-split\">\n\n    //         <PriceChart />\n\n    //         <MyTransactions />\n\n    //       </div>\n    //       {/*--------------------------------*/}\n    //       <div className=\"vertical\">\n    //         <Trades />\n    //       </div>\n    //       {/*--------------------------------*/}\n    //     </div>\n    //     {/*--------------------------------*/}\n    //   </div>\n    // )\n    return (\n    \n\n        <div className=\"content-all\">\n          {/*-----------------------*/}\n          <div className=\"content\"> \n            {/*----------*/}\n                <div className=\"vertical\">\n                  <PriceChart />\n                </div>\n              \n                <div className=\"vertical-split\">\n                  <OrderBook />\n                  <Trades />   \n                </div>\n                \n           \n                <div className=\"vertical-split\">\n                  <NewOrder/>\n                  <Balance/>     \n                </div>\n                {/*----------*/}\n          </div>\n\n          <div className=\"content2\">\n            <MyTransactions />\n          </div>\n          {/*----------------------*/}\n            <Footer/>\n        </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    exchange: exchangeSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(Content);\n","import React, { Component } from 'react';\n// import detectEthereumProvider from '@metamask/detect-provider'\n\nimport './App.css';\nimport Navbar from './Navbar'\nimport Content from './Content'\n\nimport Loader from './Loader'\n\n\nimport {\n  loadWeb3, \n  loadAccount, \n  loadToken,\n  loadExchange\n} from '../store/interactions'\nimport {connect} from 'react-redux'  // required to connect redux and app. Go to bottom page for config.\n\nimport {contractLoadedSelector} from '../store/selectors'\n\nconst ethereum = window.ethereum\n\nclass App extends Component {\n  componentDidMount = async () =>{\n    if(ethereum){\n      ethereum.sendAsync({\n        method: \"eth_accounts\",\n        params: [],\n        jsonrpc: \"2.0\",\n        id: new Date().getTime()\n        } , async (error, result) =>{\n            // console.log(result);\n            if (result[\"result\"].toString() !== \"\") {\n              await this.configMetaMask();//addresses found. result[\"result\"] contains wallet address\n            }else {console.log(\"MetaMask account may not be connected\");}//found not address, which mean this wallet is not logged in\n        });\n\n      ethereum.on('accountsChanged', async (accounts) => {\n        // console.log(\"Account changed: \", accounts) \n        if (accounts[0] != null){\n          await loadAccount(accounts[0], this.props.dispatch)\n        } else{\n          // this.setState({account: ''})\n          await loadAccount('', this.props.dispatch)\n        }\n        this.loadBlockchainData(this.props.dispatch)\n      });\n\n      ethereum.on('chainChanged', (chainId) => {\n        window.location.reload();\n      });\n\n      this.loadBlockchainData(this.props.dispatch)\n    }\n    \n\n  }\n  async configMetaMask () {\n    if(ethereum){\n      try{\n        const accounts = await ethereum.request({ method: 'eth_requestAccounts' })\n        if(accounts !== null){\n          console.log(\"Account:\", accounts[0])\n          await loadAccount(accounts[0], this.props.dispatch)\n        }\n      }catch (err){\n        if (err.code === 4001){\n          console.log(\"User denied MetaMask. Please connect MetaMask again.\")\n        }else{\n          console.log(err)\n        }\n      }\n      \n    }else{\n      window.alert(\"Non-Ethereum browser detected. Try using MetaMask.\")\n    }\n  }\n\n  async loadBlockchainData(dispatch) {\n    const web3 = await loadWeb3(dispatch)\n\n    const networkId = await ethereum.request({ method: 'eth_chainId' })\n\n    const token = await loadToken(web3, networkId, dispatch)\n    if(!token){\n      window.alert(\"Token contract not deployed on the current network. Please connect to the specified network.\")\n    }\n    const exchange = await loadExchange(web3, networkId, dispatch)\n    if(!exchange){\n      window.alert(\"Exchange contract not deployed on the current network. Please connect to the specified network.\")\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: ''\n    }\n  }\n  render(){\n    return(\n      <div>\n        <Navbar configMetaMask= {this.configMetaMask.bind(this)}/>\n        {this.props.contractLoaded\n          ? <Content/>\n          : <div style={{height: '100vh', backgroundColor: '#1d1d1d', color: 'white'}}><Loader type=\"Initialiser\"/></div>\n        }\n        {/*<Footer/>*/}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    contractLoaded: contractLoadedSelector(state)\n  }\n}\nexport default connect(mapStateToProps)(App);\n\n\n// export default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}","import {combineReducers} from 'redux';\n\nfunction web3(state = {}, action) {\n\tswitch(action.type){\n\t\tcase 'WEB3_LOADED':\n\t\t\treturn {...state, connection: action.connection}\n\t\tcase 'WEB3_ACCOUNT_LOADED':\n\t\t\treturn {...state, account: action.account}\n\t\tcase 'ETH_BALANCE_LOADED':\n\t\t\treturn {...state, balance: action.balance}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nfunction token(state = {}, action) {\n\tswitch(action.type){\n\t\tcase 'TOKEN_LOADED':\n\t\t\treturn {...state, loaded: true, contract: action.contract}\n\t\tcase 'TOKEN_BALANCE_LOADED':\n\t\t\treturn {...state, balance: action.balance}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nfunction exchange(state = {}, action) {\n\tlet data, index\n\tswitch(action.type){\n\t\tcase 'EXCHANGE_LOADED':\n\t\t\treturn {...state, loaded: true, contract: action.contract}\n\t\tcase 'CANCELLED_ORDERS_LOADED':\n\t\t\treturn {...state, cancelledOrders: {loaded: true, data: action.cancelledOrders}}\n\t\tcase 'FILLED_ORDERS_LOADED':\n\t\t\treturn {...state, filledOrders: {loaded: true, data: action.filledOrders}}\n\t\tcase 'ALL_ORDERS_LOADED':\n\t\t\treturn {...state, allOrders: {loaded: true, data: action.allOrders}}\n\t\tcase 'ORDER_CANCELLING':\n\t\t\treturn {...state, orderCancelling: true}\n\t\tcase 'ORDER_CANCELLED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torderCancelling: false,\n\t\t\t\tcancelledOrders:{\n\t\t\t\t\t...state.cancelledOrders,\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t...state.cancelledOrders.data,\n\t\t\t\t\t\taction.cancelledOrder\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'ORDER_FILLING':\n\t\t\treturn {...state, orderFilling: true}\n\t\tcase 'ORDER_FILLED':\n\t\t\t/// prevent duplication\n\t\t\tindex = state.filledOrders.data.findIndex(order => order.id === action.filledOrder.id)\n\t\t\tif(index === -1){\n\t\t\t\tdata =[...state.filledOrders.data, action.filledOrder]\n\t\t\t}else{\n\t\t\t\tdata = state.filledOrders.data\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\torderFilling: false,\n\t\t\t\tfilledOrders: {\n\t\t\t\t\t...state.filledOrders,\n\t\t\t\t\tdata\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'BALANCES_LOADING':\n\t\t\treturn {...state, balancesLoading: true}\n\t\tcase 'BALANCES_LOADED':\n\t\t\treturn {...state, balancesLoading: false}\n\t\tcase 'EXCHANGE_ETH_BALANCE_LOADED':\n\t\t\treturn {...state, ethBalance: action.balance}\n\t\tcase 'EXCHANGE_TOKEN_BALANCE_LOADED':\n\t\t\treturn {...state, tokenBalance: action.balance}\n\t\tcase 'ETH_DEPOSIT_AMOUNT_CHANGED':\n\t\t\treturn {...state, ethDepositAmount: action.amount}\n\t\tcase 'ETH_WITHDRAW_AMOUNT_CHANGED':\n\t\t\treturn {...state, ethWithdrawAmount: action.amount}\n\t\tcase 'TOKEN_DEPOSIT_AMOUNT_CHANGED':\n\t\t\treturn {...state, tokenDepositAmount: action.amount}\n\t\tcase 'TOKEN_WITHDRAW_AMOUNT_CHANGED':\n\t\t\treturn {...state, tokenWithdrawAmount: action.amount}\n\n\t\tcase 'BUY_ORDER_AMOUNT_CHANGED':\n\t\t\treturn {...state, buyOrder:{...state.buyOrder, amount: action.amount}}\n\t\tcase 'BUY_ORDER_PRICE_CHANGED':\n\t\t\treturn {...state, buyOrder:{...state.buyOrder, price: action.price}}\n\t\tcase 'BUY_ORDER_MAKING':\n\t\t\treturn {...state, buyOrder:{...state.buyOrder, amount: null, price: null, making: true}}\n\t\tcase 'ORDER_MADE':\n\t\t\tindex= state.allOrders.data.findIndex(order=>order.id === action.order.id);\n\t\t\tif(index === -1){\n\t\t\t\tdata = [...state.allOrders.data, action.order]\n\t\t\t}else{\n\t\t\t\tdata = state.allOrders.data\n\t\t\t}\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tallOrders:{\n\t\t\t\t\t...state.allOrders,\n\t\t\t\t\tdata\n\t\t\t\t},\n\t\t\t\tbuyOrder:{\n\t\t\t\t\t...state.buyOrder,\n\t\t\t\t\tmaking: false\n\t\t\t\t},\n\t\t\t\tsellOrder:{\n\t\t\t\t\t...state.sellOrder,\n\t\t\t\t\tmaking: false\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'SELL_ORDER_AMOUNT_CHANGED':\n\t\t\treturn {...state, sellOrder:{...state.sellOrder, amount: action.amount}}\n\t\tcase 'SELL_ORDER_PRICE_CHANGED':\n\t\t\treturn {...state, sellOrder:{...state.sellOrder, price: action.price}}\n\t\tcase 'SELL_ORDER_MAKING':\n\t\t\treturn {...state, sellOrder:{...state.sellOrder, amount: null, price: null, making: true}}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nconst rootReducer = combineReducers({\n\tweb3,\n\ttoken,\n\texchange\n})\n\nexport default rootReducer","// Redux convenient standard setup\nimport {createStore, applyMiddleware, compose} from 'redux'\nimport {createLogger} from 'redux-logger'\nimport rootReducer from './reducers'\n\nconst loggerMiddleware = createLogger()\nconst middleware = []\n\n// For redux dev tools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\n// let store = createStore(\n// \trootReducer,\n// \tpreloadedState\n// )\n\nexport default function configureStore(preloadedState){\n\treturn createStore(\n\t\t// rootReducer from ./reducer.js\n\t\trootReducer,\n\t\tpreloadedState,\n\t\tcomposeEnhancers(applyMiddleware(...middleware,loggerMiddleware))\n\t)\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'mdb-react-ui-kit/dist/css/mdb.min.css'\n// import 'bootstrap/dist/css/bootstrap.css';\n\n\nimport App from './components/App';\n// import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./utils/bootstrap.min.css\"\n\n\nimport * as serviceWorker from './serviceWorker';\n\n\n// redux setup\nimport {Provider} from 'react-redux'\nimport configureStore from './store/configureStore';\n\n// const store = configureStore()\n\nReactDOM.render(\n\t<Provider store = {configureStore()}>\n\t\t<App />\n\t</Provider>, \n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}